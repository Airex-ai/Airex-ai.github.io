<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Airex Yu">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/02/06/opencv/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="opencvé…ç½®123pip install opencv-python&#x3D;&#x3D;3.4.1.15pip install opencv-contrib-python&#x3D;&#x3D;3.4.1.15#å› ä¸ºé«˜ç‰ˆæœ¬çš„opencvä¼šå¯¹æŸäº›ç®—æ³•è¿›è¡Œç‰ˆæƒä¿æŠ¤ï¼Œopencv3.4.1.15æ˜¯æ‰€æœ‰ç®—æ³•éƒ½å¯ä»¥ä½¿ç”¨çš„ç‰ˆæœ¬  å›¾åƒåŸºæœ¬æ“ä½œå›¾åƒï¼šç”±RGBä¸‰ç§é€šé“æ„æˆï¼›ä¸€å¼ å›¾ç‰‡æ˜¯ç”±è®¸å¤šä¸ªåƒç´ ç‚¹æ„æˆçš„ï¼Œä¸€ä¸ªåƒç´ ç‚¹åŒ…å«RGBä¸‰ä¸ªçŸ©é˜µï¼Œæ¯ä¸ªçŸ©é˜µè¡¨">
<meta property="og:type" content="article">
<meta property="og:title" content="opencv">
<meta property="og:url" content="http://example.com/2023/02/06/opencv/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="opencvé…ç½®123pip install opencv-python&#x3D;&#x3D;3.4.1.15pip install opencv-contrib-python&#x3D;&#x3D;3.4.1.15#å› ä¸ºé«˜ç‰ˆæœ¬çš„opencvä¼šå¯¹æŸäº›ç®—æ³•è¿›è¡Œç‰ˆæƒä¿æŠ¤ï¼Œopencv3.4.1.15æ˜¯æ‰€æœ‰ç®—æ³•éƒ½å¯ä»¥ä½¿ç”¨çš„ç‰ˆæœ¬  å›¾åƒåŸºæœ¬æ“ä½œå›¾åƒï¼šç”±RGBä¸‰ç§é€šé“æ„æˆï¼›ä¸€å¼ å›¾ç‰‡æ˜¯ç”±è®¸å¤šä¸ªåƒç´ ç‚¹æ„æˆçš„ï¼Œä¸€ä¸ªåƒç´ ç‚¹åŒ…å«RGBä¸‰ä¸ªçŸ©é˜µï¼Œæ¯ä¸ªçŸ©é˜µè¡¨">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230206095645727.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208121009584.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208121034801.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208131640981.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208135809961.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208142844317.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208144437958.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208145736151-16758394565651.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208145741953.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208150818877.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208151621579.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208151633862.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/sobel_1.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208155955561.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208160000622.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208160004993.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208160008186.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208161322781.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208162814034.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208162818931.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208175216977.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208175548495.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208180931050.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208185656238.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208191920040.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208192217028.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208192814702.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208193712743.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208193715339.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230208203325023.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209114624319.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209114707171.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209114721812.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209131703269.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209131718238.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209141121285.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209141200376.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209141203373.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209143000577.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209143138032-16759242982013.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209143947478.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230209174228235.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210111500702.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210113356587.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210115022651.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210115806340.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210115954702.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210120014534.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210121903677.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210121935985.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210123034000.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210132239516.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210142515372.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210142528105.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210142539670.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210143021902.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151203769.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151210488.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151216141-16760131363414.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151223178.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151228881.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210151327622.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210153336999.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210154852643.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210154859449.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210154938709.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210155157542.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210155012796.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210160559620.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210160833303.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210160847942.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210161938450.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210162121033.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210162156075.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210163141334.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210163308506.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210163322856-16760180030965.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210165037521-16760190378296.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210185152441.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210185156559.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210190327535-16760270077707.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210191647018.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210191653915.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210191718583.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210191725841.png">
<meta property="og:image" content="http://example.com/2023/02/06/opencv/image-20230210192427254.png">
<meta property="article:published_time" content="2023-02-06T02:35:26.000Z">
<meta property="article:modified_time" content="2023-05-25T13:10:19.930Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="opencv">
<meta property="article:tag" content="å›¾åƒå¤„ç†">
<meta property="article:tag" content="æ¢¯åº¦">
<meta property="article:tag" content="è¾¹ç¼˜æ£€æµ‹">
<meta property="article:tag" content="ç‰¹å¾æå–">
<meta property="article:tag" content="ç‰¹å¾åŒ¹é…">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/02/06/opencv/image-20230206095645727.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/%E9%B1%BC.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/%E9%B1%BC.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/%E9%B1%BC.svg">
    <!--- Page Info-->
    
    <title>
        
            opencv -
        
        Airex-Daily
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/assets/fonts.css">

    <!--- Font Part-->
    
    
    
        <link href="" rel="stylesheet">
    
    
        <link href="" rel="stylesheet">
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"example.com","root":"/","language":"zh-CN"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null},"global":{"fonts":{"chinese":{"enable":true,"family":null,"url":null},"english":{"enable":true,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fix","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-rry6gw.png"},"title":"ä¼¸æ‰‹ä¹Ÿæ¡ä¸ä½å½©è™¹ğŸŒˆ","subtitle":{"text":["â€”â€”æˆ‘æœŸå¾…"],"hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/Airex-ai","instagram":null,"zhihu":null,"twitter":null,"email":"airex.yu@foxmail.com"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":"https://music.163.com/song?id=1501530173&userid=253099352","cover":null}]},"mermaid":{"enable":true,"version":"9.3.0"}},"version":"2.1.5","navbar":{"auto_hide":true,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Github":"https://github.com/Airex-ai?tab=repositories"}},"éšè®°":{"icon":"fa-solid fa-tree-palm","path":"/masonry/"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}}};
    Global.language_ago = {"second":"%s ç§’å‰","minute":"%s åˆ†é’Ÿå‰","hour":"%s å°æ—¶å‰","day":"%s å¤©å‰","week":"%s å‘¨å‰","month":"%s ä¸ªæœˆå‰","year":"%s å¹´å‰"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Airex-Daily
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        é¦–é¡µ
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-archive"></i>
                                        
                                        å½’æ¡£
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown" 
                                    href="#" onClick="return false;">
                                    
                                        
                                            <i class="fa-regular fa-user"></i>
                                        
                                        å…³äº&nbsp;<i class="fa-solid fa-chevron-down"></i>
                                    
                                </a>
                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                    
                                        <li>
                                        <a target="_blank" rel="noopener" href="https://github.com/Airex-ai?tab=repositories">GITHUB
                                        </a>
                                        </li>
                                    
                                    </ul>
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/masonry/"  >
                                    
                                        
                                            <i class="fa-solid fa-tree-palm"></i>
                                        
                                        éšè®°
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                é¦–é¡µ
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-archive"></i>
                                
                                å½’æ¡£
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="has-dropdown" 
                        href="#" onClick="return false;">
                            
                                
                                    <i class="fa-regular fa-user"></i>
                                
                                å…³äº&nbsp;<i class="fa-solid fa-chevron-down"></i>
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                              
                        
                            <li class="dropdown-item flex-center">
                                <a class="dropdown-item" target="_blank" rel="noopener" href="https://github.com/Airex-ai?tab=repositories">GITHUB</a>
                            </li>
                        
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/masonry/"  >
                             
                                
                                    <i class="fa-solid fa-tree-palm"></i>
                                
                                éšè®°
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            
             
                <div class="article-title">         
                    <img src="/images/opencv.png" alt="opencv" />
                    <h1 class="article-title-cover">opencv</h1>
                </div>
            
                
            

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/%E5%A4%B4%E5%83%8F.JPG">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Airex Yu</span>
                            
                                <span class="author-label">Lv3</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-02-06 10:35:26</span>
        <span class="mobile">2023-02-06 10:35</span>
        <span class="hover-info">åˆ›å»º</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-05-25 21:10:19</span>
            <span class="mobile">2023-05-25 21:10</span>
            <span class="hover-info">æ›´æ–°</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/">è®¡ç®—æœºè§†è§‰</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/opencv/">opencv</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">å›¾åƒå¤„ç†</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E6%A2%AF%E5%BA%A6/">æ¢¯åº¦</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B/">è¾¹ç¼˜æ£€æµ‹</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96/">ç‰¹å¾æå–</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E7%89%B9%E5%BE%81%E5%8C%B9%E9%85%8D/">ç‰¹å¾åŒ¹é…</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <h1 id="opencvé…ç½®"><a href="#opencvé…ç½®" class="headerlink" title="opencvé…ç½®"></a>opencvé…ç½®</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install opencv-python==<span class="number">3.4</span><span class="number">.1</span><span class="number">.15</span></span><br><span class="line">pip install opencv-contrib-python==<span class="number">3.4</span><span class="number">.1</span><span class="number">.15</span></span><br><span class="line"><span class="comment">#å› ä¸ºé«˜ç‰ˆæœ¬çš„opencvä¼šå¯¹æŸäº›ç®—æ³•è¿›è¡Œç‰ˆæƒä¿æŠ¤ï¼Œopencv3.4.1.15æ˜¯æ‰€æœ‰ç®—æ³•éƒ½å¯ä»¥ä½¿ç”¨çš„ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure></div>

<h1 id="å›¾åƒåŸºæœ¬æ“ä½œ"><a href="#å›¾åƒåŸºæœ¬æ“ä½œ" class="headerlink" title="å›¾åƒåŸºæœ¬æ“ä½œ"></a>å›¾åƒåŸºæœ¬æ“ä½œ</h1><p>å›¾åƒï¼šç”±RGBä¸‰ç§é€šé“æ„æˆï¼›ä¸€å¼ å›¾ç‰‡æ˜¯ç”±è®¸å¤šä¸ªåƒç´ ç‚¹æ„æˆçš„ï¼Œä¸€ä¸ªåƒç´ ç‚¹åŒ…å«RGBä¸‰ä¸ªçŸ©é˜µï¼Œæ¯ä¸ªçŸ©é˜µè¡¨ç¤ºå¯¹åº”é¢œè‰²çš„çŠ¶æ€ï¼ŒçŸ©é˜µå–å€¼ä¸º0â€”255</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230206095645727.png"
                      class="" title="image-20230206095645727"
                >

<h2 id="æ•°æ®è¯»å–-å›¾åƒ"><a href="#æ•°æ®è¯»å–-å›¾åƒ" class="headerlink" title="æ•°æ®è¯»å–-å›¾åƒ"></a>æ•°æ®è¯»å–-å›¾åƒ</h2><ul>
<li>cv2.IMREAD_COLORï¼šå½©è‰²å›¾åƒ</li>
<li>cv2.IMREAD_GRAYSCALEï¼šç°åº¦å›¾åƒ</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="comment">#opencvè¯»å–çš„æ ¼å¼æ˜¯BGRï¼Œè‹¥ç”¨å…¶ä»–å·¥å…·åŒ…å¯èƒ½ä¸åŒ</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;cat.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å½©è‰²å›¾</span></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line"><span class="comment">#è¯»ç°è‰²å›¾</span></span><br><span class="line">img1 = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>, cv2.IMREAD_GRAYSCALE)</span><br><span class="line"><span class="comment"># print(img)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å›¾åƒçš„æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå¤šä¸ªçª—å£</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;image&quot;</span>,img1)</span><br><span class="line"><span class="comment">#ç­‰å¾…æ—¶é—´ï¼Œ0ä»£è¡¨æŒ‰ä»»æ„é”®ç»ˆæ­¢</span></span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"><span class="comment"># print(img.shape)</span></span><br><span class="line"><span class="comment"># print(type(img))</span></span><br><span class="line"><span class="comment"># print(img.size)</span></span><br><span class="line"><span class="comment"># print(img.dtype)            #å…³è”çš„æ•°æ®ç±»å‹å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†å›¾ç‰‡çš„æ“ä½œç¼–å†™æˆä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆªå–éƒ¨åˆ†å›¾åƒæ•°æ®</span></span><br><span class="line">img_split = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line">cat = img[<span class="number">0</span>:<span class="number">50</span>,<span class="number">0</span>:<span class="number">200</span>]            <span class="comment">#å®½50ï¼Œé•¿200</span></span><br><span class="line"><span class="comment"># cv_show(&quot;cat&quot;,cat)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é¢œè‰²é€šé“æå–</span></span><br><span class="line">b,g,r = cv2.split(img)</span><br><span class="line"><span class="comment">#print(g.shape)     #b,g,rçš„shapeæ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºéƒ½æ˜¯ä»ä¸€å¼ å›¾ç‰‡æå–å‡ºæ¥çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é¢œè‰²é€šé“çš„åˆå¹¶</span></span><br><span class="line">img_merge = cv2.merge((b,g,r))</span><br><span class="line"><span class="comment"># print(img_merge.shape)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åªä¿ç•™R</span></span><br><span class="line">cur_img = img.copy()</span><br><span class="line"><span class="comment">#B[0],G[1],R[2]   æ•°å­—ä»£è¡¨åºå·</span></span><br><span class="line"><span class="comment">#cur_img.shapeï¼š(201, 178, 3)</span></span><br><span class="line">cur_img[:,:,<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">cur_img[:,:,<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">cv_show(<span class="string">&#x27;R&#x27;</span>,cur_img)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åªä¿ç•™G</span></span><br><span class="line">cur_img = img.copy()</span><br><span class="line"><span class="comment">#B[0],G[1],R[2]   æ•°å­—ä»£è¡¨åºå·</span></span><br><span class="line"><span class="comment">#cur_img.shapeï¼š(201, 178, 3)</span></span><br><span class="line">cur_img[:,:,<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">cur_img[:,:,<span class="number">2</span>] = <span class="number">0</span></span><br><span class="line">cv_show(<span class="string">&#x27;R&#x27;</span>,cur_img)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åªä¿ç•™B</span></span><br><span class="line">cur_img = img.copy()</span><br><span class="line"><span class="comment">#B[0],G[1],R[2]   æ•°å­—ä»£è¡¨åºå·</span></span><br><span class="line"><span class="comment">#cur_img.shapeï¼š(201, 178, 3)</span></span><br><span class="line">cur_img[:,:,<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">cur_img[:,:,<span class="number">2</span>] = <span class="number">0</span></span><br><span class="line">cv_show(<span class="string">&#x27;R&#x27;</span>,cur_img)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208121009584.png"
                      class="" title="image-20230208121009584"
                >

<h2 id="æ•°æ®è¯»å–-è§†é¢‘"><a href="#æ•°æ®è¯»å–-è§†é¢‘" class="headerlink" title="æ•°æ®è¯»å–-è§†é¢‘"></a>æ•°æ®è¯»å–-è§†é¢‘</h2><ul>
<li>cv2.VideoCaptureå¯ä»¥æ•è·æ‘„åƒå¤´ï¼Œç”¨æ•°å­—æ¥æ§åˆ¶ä¸åŒçš„è®¾å¤‡ï¼Œä¾‹å¦‚0ï¼Œ1</li>
<li>å¦‚æœæ˜¯è§†é¢‘æ–‡ä»¶ï¼Œç›´æ¥æŒ‡å®šè·¯å¾„å³å¯</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">vc = cv2.VideoCapture(<span class="string">&quot;../video/å‘¨æ°ä¼¦-å‘å¦‚é›ª(è“å…‰).mp4&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€æŸ¥æ˜¯å¦æ­£ç¡®æ‰“å¼€</span></span><br><span class="line"><span class="keyword">if</span> vc.isOpened():</span><br><span class="line">    <span class="comment">#è§†é¢‘æ˜¯ä¸€å¸§å¸§åœ°å¾ªç¯è¯»å–çš„</span></span><br><span class="line">    <span class="built_in">open</span>,frame = vc.read()    <span class="comment">#openæ˜¯ä¸€ä¸ªboolç±»å‹çš„å€¼ï¼›frameæ˜¯æ¯ä¸€å¸§å›¾ç‰‡çš„çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">open</span> = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">open</span>:</span><br><span class="line">    ret,frame = vc.read()</span><br><span class="line">    <span class="keyword">if</span> frame <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> ret == <span class="literal">True</span>:</span><br><span class="line">        gray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)           <span class="comment">#å°†è§†é¢‘çš„æ¯ä¸€å¸§éƒ½è½¬ä¸ºäº†ç°è‰²å›¾ç‰‡</span></span><br><span class="line">        cv2.imshow(<span class="string">&quot;result&quot;</span>,gray)                               <span class="comment">#å°†æ¯ä¸€å¸§éƒ½æ˜¾ç¤ºå‡ºæ¥</span></span><br><span class="line">        <span class="keyword">if</span> cv2.waitKey(<span class="number">1</span>) &amp; <span class="number">0xFF</span> == <span class="number">27</span>:                         <span class="comment">#è®¾ç½®æ¯ä¸€å¸§çš„æ˜¾ç¤ºæ—¶é—´ï¼Œä»¥åŠè®¾ç½®é€€å‡ºæŒ‰é”®ï¼Œ27çœŸå¥½ä½¿ESC</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">vc.release()             <span class="comment">#Closes video file or capturing device.</span></span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208121034801.png"
                      class="" title="image-20230208121034801"
                >

<h1 id="è¾¹ç•Œå¡«å……"><a href="#è¾¹ç•Œå¡«å……" class="headerlink" title="è¾¹ç•Œå¡«å……"></a>è¾¹ç•Œå¡«å……</h1><ul>
<li>BORDER_REPLICATEï¼šå¤åˆ¶æœ€è¾¹ç¼˜åƒç´ </li>
<li>BORDER_REFLECTï¼šå°†è¾¹ç¼˜åƒç´ é•œåƒå¤åˆ¶</li>
<li>BORDER_REFLECT101ï¼šä¼˜åŒ–çš„è¾¹ç¼˜é•œåƒå¤åˆ¶</li>
<li>BORDER_WRAPï¼šå¾ªç¯è¾¹ç¼˜å¤åˆ¶</li>
<li>BORDER_CONSTANTï¼šå¸¸ç†Ÿå¡«å……</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line"></span><br><span class="line">top_size,bottom_size,left_size,right_size = (<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">replicate = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,cv2.BORDER_REPLICATE)</span><br><span class="line">reflect = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,cv2.BORDER_REFLECT)</span><br><span class="line">reflect101 = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,cv2.BORDER_REFLECT101)</span><br><span class="line">wrap = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,cv2.BORDER_WRAP)</span><br><span class="line">constant = cv2.copyMakeBorder(img,top_size,bottom_size,left_size,right_size,cv2.BORDER_CONSTANT,value=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># cv2.imshow(&quot;replicate&quot;,replicate)</span></span><br><span class="line"><span class="comment"># cv2.waitKey(0)</span></span><br><span class="line"><span class="comment"># cv2.destroyAllWindows()</span></span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">231</span>),plt.imshow(img,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;original&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">232</span>),plt.imshow(replicate,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;replicate&quot;</span>)  </span><br><span class="line">plt.subplot(<span class="number">233</span>),plt.imshow(reflect,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;reflect&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">234</span>),plt.imshow(reflect101,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;reflect101&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">235</span>),plt.imshow(wrap,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;wrap&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">236</span>),plt.imshow(constant,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;constant&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208131640981.png"
                      class="" title="image-20230208131640981"
                >

<h1 id="æ•°å€¼è®¡ç®—"><a href="#æ•°å€¼è®¡ç®—" class="headerlink" title="æ•°å€¼è®¡ç®—"></a>æ•°å€¼è®¡ç®—</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line">img1 = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line"><span class="comment"># print(img)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å›¾ç‰‡çš„çŸ©é˜µçš„æ¯ä¸€ä¸ªæ•°éƒ½åŠ 10ï¼Œ</span></span><br><span class="line">img_cat = img + <span class="number">10</span></span><br><span class="line"><span class="comment">#print(img_cat[:5,:,0])          #è¾“å‡ºçš„æ˜¯0~5è¡Œï¼Œæ‰€æœ‰åˆ—ï¼Œç¬¬0å±‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸¤å¼ å›¾ç‰‡çš„ç›¸åŠ å¿…é¡»è¦æ±‚shapeç›¸åŒ</span></span><br><span class="line"><span class="comment">#è¶…è¿‡255ï¼Œä¸256å–ä½™</span></span><br><span class="line">img_cat = img + img1</span><br><span class="line"><span class="comment"># print(img_cat[0:5,:,0])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å–æœ€å¤§å€¼ï¼Œè¶…è¿‡255å–255</span></span><br><span class="line">img_cat = cv2.add(img,img1)</span><br><span class="line"><span class="comment"># print(img_cat[0:5,:,0])</span></span><br></pre></td></tr></table></figure></div>

<h1 id="å›¾åƒèåˆ"><a href="#å›¾åƒèåˆ" class="headerlink" title="å›¾åƒèåˆ"></a>å›¾åƒèåˆ</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">cat = cv2.imread(<span class="string">&quot;../pic/cat.png&quot;</span>)</span><br><span class="line">dog = cv2.imread(<span class="string">&quot;../pic/dog.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cat.shape)  <span class="comment">#(201, 178, 3)</span></span><br><span class="line"><span class="built_in">print</span>(dog.shape)  <span class="comment">#(197, 485, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸¤å¼ å›¾ç‰‡çš„åˆ†è¾¨ç‡ä¸ä¸€è‡´ï¼Œé¦–å…ˆéœ€è¦resize</span></span><br><span class="line">dog = cv2.resize(dog,(<span class="number">178</span>,<span class="number">201</span>))     <span class="comment">#é¡ºåºè¦åè¿‡æ¥</span></span><br><span class="line"><span class="built_in">print</span>(dog.shape)   <span class="comment">#(201, 178, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#dog = cv2.resize(dog,(0,0),fx=2,fy=2)   #ä¸æŒ‡å®šé•¿å®½ï¼ŒæŒ‰æ¯”ä¾‹ç¼©æ”¾</span></span><br><span class="line"></span><br><span class="line">img_fuse = cv2.addWeighted(cat,<span class="number">0.4</span>,dog,<span class="number">0.6</span>,<span class="number">0</span>)    <span class="comment">#çŒ«40%é€æ˜ï¼Œç‹—60%é€æ˜ï¼Œ0ä»£è¡¨ä¸æé«˜äº®åº¦</span></span><br><span class="line">plt.subplot(),plt.imshow(img_fuse,<span class="string">&quot;gray&quot;</span>),plt.title(<span class="string">&quot;result&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208135809961.png"
                      class="" title="image-20230208135809961"
                >

<h1 id="è…èš€ä¸è†¨èƒ€æ“ä½œ"><a href="#è…èš€ä¸è†¨èƒ€æ“ä½œ" class="headerlink" title="è…èš€ä¸è†¨èƒ€æ“ä½œ"></a>è…èš€ä¸è†¨èƒ€æ“ä½œ</h1><h2 id="è…èš€æ“ä½œ"><a href="#è…èš€æ“ä½œ" class="headerlink" title="è…èš€æ“ä½œ"></a>è…èš€æ“ä½œ</h2><p>å›¾ç‰‡ä¸­çš„ä¿¡æ¯ä¼šå‡å°‘</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/plane.png&quot;</span>)</span><br><span class="line"><span class="comment"># cv_show(&quot;origionale&quot;,img)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–äº†ä¸€ä¸ª3*3çš„çŸ©é˜µï¼Œå¹¶ä»¥è¿™ä¸ªçŸ©é˜µçš„å¤§å°å¼€å§‹è…èš€æ“ä½œ</span></span><br><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">erosion_1  = cv2.erode(img,kernel,iterations=<span class="number">1</span>)   <span class="comment">#è¿­ä»£çš„è¶Šå¤šï¼Œè…èš€è¶Šä¸¥é‡</span></span><br><span class="line">erosion_2= cv2.erode(img,kernel,iterations=<span class="number">2</span>)</span><br><span class="line">erosion_3= cv2.erode(img,kernel,iterations=<span class="number">3</span>)</span><br><span class="line">res = np.hstack((erosion_1,erosion_2,erosion_3))</span><br><span class="line"></span><br><span class="line">cv_show(<span class="string">&quot;erosion&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208142844317.png"
                      class="" title="image-20230208142844317"
                >

<h2 id="è†¨èƒ€æ“ä½œ"><a href="#è†¨èƒ€æ“ä½œ" class="headerlink" title="è†¨èƒ€æ“ä½œ"></a>è†¨èƒ€æ“ä½œ</h2><p>è…èš€æ“ä½œçš„é€†è¿‡ç¨‹ï¼Œå›¾ç‰‡é‡ç‚¹ä¿¡æ¯ä¼šå¢å¤š</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/plane.png&quot;</span>)</span><br><span class="line"><span class="comment"># cv_show(&quot;origionale&quot;,img)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#erosion</span></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–äº†ä¸€ä¸ª3*3çš„çŸ©é˜µï¼Œå¹¶ä»¥è¿™ä¸ªçŸ©é˜µçš„å¤§å°å¼€å§‹è…èš€æ“ä½œ</span></span><br><span class="line">kernel = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">erosion_1  = cv2.erode(img,kernel,iterations=<span class="number">1</span>)   <span class="comment">#è¿­ä»£çš„è¶Šå¤šï¼Œè…èš€è¶Šä¸¥é‡</span></span><br><span class="line">erosion_2= cv2.erode(img,kernel,iterations=<span class="number">2</span>)</span><br><span class="line">erosion_3= cv2.erode(img,kernel,iterations=<span class="number">3</span>)</span><br><span class="line">res = np.hstack((erosion_1,erosion_2,erosion_3))</span><br><span class="line"><span class="comment"># cv_show(&quot;erosion&quot;,res)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#dilate</span></span><br><span class="line">kernel1 = np.ones((<span class="number">3</span>,<span class="number">3</span>),np.uint8)</span><br><span class="line">dilate1 = cv2.dilate(erosion_3,kernel1,iterations=<span class="number">1</span>)</span><br><span class="line">dilate2 = cv2.dilate(erosion_3,kernel1,iterations=<span class="number">2</span>)</span><br><span class="line">dilate3 = cv2.dilate(erosion_3,kernel1,iterations=<span class="number">3</span>)</span><br><span class="line">res2 = np.hstack((dilate1,dilate2,dilate3))</span><br><span class="line">cv_show(<span class="string">&quot;dilate&quot;</span>,res2)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208144437958.png"
                      class="" title="image-20230208144437958"
                >

<h2 id="å¼€è¿ç®—ä¸é—­è¿ç®—"><a href="#å¼€è¿ç®—ä¸é—­è¿ç®—" class="headerlink" title="å¼€è¿ç®—ä¸é—­è¿ç®—"></a>å¼€è¿ç®—ä¸é—­è¿ç®—</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dige = cv2.imread(<span class="string">&quot;../pic/dige.png&quot;</span>)</span><br><span class="line"><span class="comment">#å¼€è¿ç®—ï¼šå…ˆè…èš€åè†¨èƒ€</span></span><br><span class="line">kernel3 = np.ones((<span class="number">5</span>,<span class="number">5</span>),np.uint8)</span><br><span class="line">opening = cv2.morphologyEx(dige,cv2.MORPH_OPEN,kernel3)</span><br><span class="line">cv_show(<span class="string">&quot;å¼€&quot;</span>,opening)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#é—­è¿ç®—ï¼šå…ˆè†¨èƒ€åè…èš€</span></span><br><span class="line">kernel4 = np.ones((<span class="number">5</span>,<span class="number">5</span>),np.uint8)</span><br><span class="line">closing = cv2.morphologyEx(dige,cv2.MORPH_CLOSE,kernel4)</span><br><span class="line">cv_show(<span class="string">&quot;é—­&quot;</span>,closing)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208145736151-16758394565651.png"
                      class="" title="image-20230208145736151"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208145741953.png"
                      class="" title="image-20230208145741953"
                >

<h2 id="æ¢¯åº¦è¿ç®—"><a href="#æ¢¯åº¦è¿ç®—" class="headerlink" title="æ¢¯åº¦è¿ç®—"></a>æ¢¯åº¦è¿ç®—</h2><p>è†¨èƒ€ä¼šæ¯”åŸå›¾â€èƒ–â€œï¼Œè…èš€ä¼šæ¯”åŸå›¾â€ç˜¦â€œï¼Œ<strong>è†¨èƒ€ - è…èš€ä¼šå¾—åˆ°æ¢¯åº¦ï¼ˆè¾¹ç¼˜ä¿¡æ¯ï¼‰</strong></p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ¢¯åº¦è¿ç®—ï¼šæ¢¯åº¦ = è†¨èƒ€ - è…èš€</span></span><br><span class="line">pie =  cv2.imread(<span class="string">&quot;../pic/pie.png&quot;</span>)</span><br><span class="line">kernel5 = np.ones((<span class="number">7</span>,<span class="number">7</span>),np.uint8)</span><br><span class="line">gradient = cv2.morphologyEx(pie,cv2.MORPH_GRADIENT,kernel5)</span><br><span class="line">cv_show(<span class="string">&quot;gradient&quot;</span>,gradient)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208150818877.png"
                      class="" title="image-20230208150818877"
                >

<h2 id="ç¤¼å¸½å’Œé»‘å¸½"><a href="#ç¤¼å¸½å’Œé»‘å¸½" class="headerlink" title="ç¤¼å¸½å’Œé»‘å¸½"></a>ç¤¼å¸½å’Œé»‘å¸½</h2><ul>
<li>ç¤¼å¸½ &#x3D; åŸå§‹è¾“å…¥ - å¼€è¿ç®—ç»“æœ</li>
<li>é»‘å¸½ - é—­è¿ç®—ç»“æœ - åŸå§‹è¾“å…¥</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¤¼å¸½</span></span><br><span class="line">tophat = cv2.morphologyEx(dige,cv2.MORPH_TOPHAT,kernel)</span><br><span class="line"><span class="comment"># cv_show(&quot;tophat&quot;,tophat)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é»‘å¸½</span></span><br><span class="line">black_hat = cv2.morphologyEx(dige,cv2.MORPH_BLACKHAT,kernel)</span><br><span class="line">cv_show(<span class="string">&quot;black_hat&quot;</span>,black_hat)</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤¼å¸½ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208151621579.png"
                      class="" title="image-20230208151621579"
                >

<p><strong>é»‘å¸½ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208151633862.png"
                      class="" title="image-20230208151633862"
                >

<h1 id="æ¢¯åº¦è®¡ç®—"><a href="#æ¢¯åº¦è®¡ç®—" class="headerlink" title="æ¢¯åº¦è®¡ç®—"></a>æ¢¯åº¦è®¡ç®—</h1><h2 id="Sobelç®—å­"><a href="#Sobelç®—å­" class="headerlink" title="Sobelç®—å­"></a>Sobelç®—å­</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/sobel_1.png"
                      class="" title="sobel_1"
                >

<p>å¦‚æœæ‰€ç¤ºï¼šAä»£è¡¨æ¯ä¸ªç‚¹ï¼Œä¹˜ä»¥Sobelç®—å­å°±å¯ä»¥å¾—åˆ°æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„æ¢¯åº¦<strong>æ³¨æ„ï¼šåªæœ‰è¾¹ç¼˜éƒ¨åˆ†æ‰æœ‰æ¢¯åº¦</strong></p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pie = cv2.imread(<span class="string">&quot;../pic/pie.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ddepthï¼šå›¾åƒçš„æ·±åº¦ï¼›dxï¼šæ°´å¹³ï¼›dyï¼šå‚ç›´ï¼›ksizeï¼šSobelç®—å­çš„å¤§å°ï¼Œ3*3çš„çŸ©é˜µ</span></span><br><span class="line">sobelx = cv2.Sobel(pie,cv2.CV_64F,<span class="number">1</span>,<span class="number">0</span>,ksize=<span class="number">3</span>)        <span class="comment">#CV_64Fï¼šopencvä¸­å¤æ•°é»˜è®¤æˆªæ–­ä¸º0ï¼ŒCV_64Fä»£è¡¨æ¯ä¸€ä¸ªåƒç´ ç‚¹å…ƒç´ å 64ä½æµ®ç‚¹æ•°ï¼Œä¿æŒåŸè´Ÿæ•°</span></span><br><span class="line"><span class="comment"># cv_show(&quot;SOBEL&quot;,sobelx)             #åœ¨Sobleè®¡ç®—æ—¶ï¼Œä¼šæœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´ä¸€è¾¹æ²¡æœ‰æ¢¯åº¦æ˜¾ç¤º</span></span><br><span class="line"></span><br><span class="line">sobelx = cv2.convertScaleAbs(sobelx)      <span class="comment">#å¯¹sobelæ±‚ç»å¯¹å€¼</span></span><br><span class="line">cv_show(<span class="string">&quot;sobelx&quot;</span>,sobelx)</span><br><span class="line"></span><br><span class="line">sobely = cv2.Sobel(pie,cv2.CV_64F,<span class="number">0</span>,<span class="number">1</span>,ksize=<span class="number">3</span>)</span><br><span class="line">sobely = cv2.convertScaleAbs(sobely)</span><br><span class="line">cv_show(<span class="string">&quot;sobely&quot;</span>,sobely)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ€»æ¢¯åº¦</span></span><br><span class="line">sobelxy = cv2.addWeighted(sobelx,<span class="number">0.5</span>,sobely,<span class="number">0.5</span>,<span class="number">0</span>)</span><br><span class="line">cv_show(<span class="string">&quot;sobelxy&quot;</span>,sobelxy)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸å»ºè®®ç›´æ¥è®¡ç®—ï¼Œä¼šæœ‰é‡å½±ï¼Œä¼šæœ‰æŸå¤±</span></span><br><span class="line">sobelxy = cv2.Sobel(pie,cv2.CV_64F,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">sobelxy = cv2.convertScaleAbs(sobelxy)</span><br><span class="line">cv_show(<span class="string">&quot;sobelxy&quot;</span>,sobelxy)</span><br></pre></td></tr></table></figure></div>

<p><strong>æ°´å¹³æ¢¯åº¦ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208155955561.png"
                      class="" title="image-20230208155955561"
                >

<p><strong>å‚ç›´æ¢¯åº¦ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208160000622.png"
                      class="" title="image-20230208160000622"
                >

<p><strong>æ°´å¹³ä¸å‚ç›´æ¢¯åº¦ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208160004993.png"
                      class="" title="image-20230208160004993"
                >

<p><strong>æ°´å¹³ä¸å‚ç›´æ¢¯åº¦ç›´æ¥ç›¸åŠ ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208160008186.png"
                      class="" title="image-20230208160008186"
                >

<h2 id="æ¢¯åº¦è®¡ç®—å®ä¾‹"><a href="#æ¢¯åº¦è®¡ç®—å®ä¾‹" class="headerlink" title="æ¢¯åº¦è®¡ç®—å®ä¾‹"></a>æ¢¯åº¦è®¡ç®—å®ä¾‹</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ†å¼€è¿ç®—æ¢¯åº¦</span></span><br><span class="line">lena = cv2.imread(<span class="string">&quot;../pic/lena.jpg&quot;</span>,cv2.IMREAD_GRAYSCALE)</span><br><span class="line">sobelx = cv2.Sobel(lena,cv2.CV_64F,<span class="number">1</span>,<span class="number">0</span>,ksize=<span class="number">3</span>)</span><br><span class="line">sobelx = cv2.convertScaleAbs(sobelx)</span><br><span class="line">sobely = cv2.Sobel(lena,cv2.CV_64F,<span class="number">0</span>,<span class="number">1</span>,ksize=<span class="number">3</span>)</span><br><span class="line">sobely = cv2.convertScaleAbs(sobely)</span><br><span class="line">sobelxy = cv2.addWeighted(sobelx,<span class="number">0.5</span>,sobely,<span class="number">0.5</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># cv_show(&quot;sobelxy&quot;,sobelxy)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç›´æ¥è¿ç®—æ°´å¹³å’Œå‚ç›´æ¢¯åº¦</span></span><br><span class="line">sobelxy = cv2.Sobel(lena,cv2.CV_64F,<span class="number">1</span>,<span class="number">1</span>,ksize=<span class="number">3</span>)</span><br><span class="line">sobelxy = cv2.convertScaleAbs(sobelxy)</span><br><span class="line">cv_show(<span class="string">&quot;sobelxy&quot;</span>,sobelxy)</span><br></pre></td></tr></table></figure></div>

<p><strong>å¯ä»¥çœ‹å‡ºåˆ†å¼€è®¡ç®—çš„æ¢¯åº¦æ•ˆæœæ›´å¥½</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208161322781.png"
                      class="" title="image-20230208161322781"
                >

<h2 id="å…¶ä»–ç®—å­"><a href="#å…¶ä»–ç®—å­" class="headerlink" title="å…¶ä»–ç®—å­"></a>å…¶ä»–ç®—å­</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208162814034.png"
                      class="" title="image-20230208162814034"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208162818931.png"
                      class="" title="image-20230208162818931"
                >

<p>ç»“æœæ˜¾ç¤ºscharryç®—å­å’Œlaplacianç®—å­æ¯”sobelç®—å­æ•æ„Ÿï¼Œä½†</p>
<p>laplacianå¯¹ç™½å™ªç‚¹å¾ˆæ•æ„Ÿï¼Œä½†ç™½å™ªç‚¹å¹¶ä¸ä¸€å®šæ˜¯è¾¹ç¼˜ï¼Œæ‰€ä»¥æ¢¯åº¦ä¸æ˜æ˜¾</p>
<h1 id="å›¾åƒå¹³æ»‘å¤„ç†"><a href="#å›¾åƒå¹³æ»‘å¤„ç†" class="headerlink" title="å›¾åƒå¹³æ»‘å¤„ç†"></a>å›¾åƒå¹³æ»‘å¤„ç†</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">lena = cv2.imread(<span class="string">&quot;../pic/lenaNoise.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‡å€¼æ»¤æ³¢</span></span><br><span class="line">blur = cv2.blur(lena,(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">blur = np.hstack((lena,blur))</span><br><span class="line"><span class="comment"># cv_show(&quot;blur&quot;,blur)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ–¹æ¡†æ»¤æ³¢            normalize = Trueä»£è¡¨å½’ä¸€ï¼ˆå¹³å‡ï¼‰å¤„ç†äº†ï¼Œä¸å‡å€¼æ»¤æ³¢ä½œç”¨ç›¸åŒ</span></span><br><span class="line">box = cv2.boxFilter(lena,-<span class="number">1</span>,(<span class="number">3</span>,<span class="number">3</span>),normalize=<span class="literal">True</span>)</span><br><span class="line">box = np.hstack((lena,box))</span><br><span class="line"><span class="comment"># cv_show(&quot;box&quot;,box)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ²¡æœ‰å½’ä¸€åŒ–å¤„ç†ï¼Œç›¸åŠ ä¹‹åè¶…è¿‡255çš„å€¼å–255ï¼Œå³ç™½è‰²</span></span><br><span class="line">box2 = cv2.boxFilter(lena,-<span class="number">1</span>,(<span class="number">3</span>,<span class="number">3</span>),normalize=<span class="literal">False</span>)</span><br><span class="line">box2 = np.hstack((lena,box2))</span><br><span class="line"><span class="comment"># cv_show(&quot;box&quot;,box)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é«˜æ–¯æ»¤æ³¢    æ•°å€¼æ»¡è¶³é«˜æ–¯åˆ†å¸ƒï¼Œæ›´é‡è§†ä¸è¯¥ç‚¹ç›¸è¿‘çš„ç‚¹çš„æ•°å€¼</span></span><br><span class="line">aussian = cv2.GaussianBlur(lena,(<span class="number">5</span>,<span class="number">5</span>),<span class="number">1</span>)</span><br><span class="line">aussian = np.hstack((lena,aussian))</span><br><span class="line"><span class="comment"># cv_show(&quot;aussian&quot;,aussian)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸­å€¼æ»¤æ³¢ï¼šå°†è¯¥ç‚¹çš„æŒ‡å®šçŸ©é˜µä¸­çš„å€¼ä»å°åˆ°å¤§æ’åºï¼Œé€‰æ‹©ä¸­å€¼</span></span><br><span class="line">median = cv2.medianBlur(lena,<span class="number">5</span>)</span><br><span class="line">median = np.hstack((lena,median))</span><br><span class="line"><span class="comment"># cv_show(&quot;median&quot;,median)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰€æœ‰çš„æ»¤æ³¢å±•ç¤º</span></span><br><span class="line">res = np.hstack((blur,aussian,median))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<p><strong>å‡å€¼æ»¤æ³¢ï¼ˆæ–¹æ¡†æ»¤æ³¢  normalize &#x3D; Trueï¼‰ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208175216977.png"
                      class="" title="image-20230208175216977"
                >

<p><strong>æ–¹æ¡†æ»¤æ³¢ normalize &#x3D; Falseï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208175548495.png"
                      class="" title="image-20230208175548495"
                >

<p><strong>ä¸­å€¼æ»¤æ³¢ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208180931050.png"
                      class="" title="image-20230208180931050"
                >

<h1 id="é˜ˆå€¼å¤„ç†"><a href="#é˜ˆå€¼å¤„ç†" class="headerlink" title="é˜ˆå€¼å¤„ç†"></a>é˜ˆå€¼å¤„ç†</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ret,dst = cv2.threshold(src,thresh,maxval,<span class="built_in">type</span>)</span><br></pre></td></tr></table></figure></div>

<ul>
<li>srcï¼šè¾“å…¥å›¾å¿…é¡»æ˜¯ç°åº¦å›¾</li>
<li>dstï¼šè¾“å‡ºå›¾</li>
<li>typeï¼šé˜ˆå€¼çš„æ“ä½œ<ul>
<li>THRESH_BINARYï¼šè¶…è¿‡é˜ˆå€¼éƒ¨åˆ†å–maxvalï¼Œå¦åˆ™å–0</li>
<li>THRESH_BINARY_INVï¼šä¸THRESH_BINARYç›¸å</li>
<li>THRESH_TRUNCï¼šå¤§äºé˜ˆå€¼éƒ¨åˆ†è®¾ä¸ºé˜ˆå€¼ï¼Œå¦åˆ™ä¸å˜</li>
<li>THRESH_TOZEROï¼šå¤§äºé˜ˆå€¼éƒ¨åˆ†ä¸å˜ï¼Œå¦åˆ™è®¾ä¸º0</li>
<li>THRESH_TOZERO_INVï¼šä¸THRESH_TOZEROç›¸å</li>
</ul>
</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">cat = cv2.imread(<span class="string">&quot;../pic/cat.jpg&quot;</span>,cv2.IMREAD_GRAYSCALE)</span><br><span class="line"></span><br><span class="line"><span class="comment">#thresholdå‡½æ•°ä¸­è¾“å…¥çš„å›¾åƒæ˜¯å•é€šé“å›¾åƒï¼Œå³ç°åº¦å›¾ï¼›</span></span><br><span class="line"><span class="comment">#retï¼šé˜ˆå€¼ï¼Œthreshï¼šè¿”å›å›¾</span></span><br><span class="line">ret,thresh1 = cv2.threshold(cat,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">ret,thresh2 = cv2.threshold(cat,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY_INV)</span><br><span class="line">ret,thresh3 = cv2.threshold(cat,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TRUNC)</span><br><span class="line">ret,thresh4 = cv2.threshold(cat,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TOZERO)</span><br><span class="line">ret,thresh5 = cv2.threshold(cat,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_TOZERO_INV)</span><br><span class="line"></span><br><span class="line">titles = [<span class="string">&#x27;original&#x27;</span>,<span class="string">&#x27;binary&#x27;</span>,<span class="string">&#x27;binary_inv&#x27;</span>,<span class="string">&#x27;trunc&#x27;</span>,<span class="string">&#x27;tozero&#x27;</span>,<span class="string">&#x27;tozero_inv&#x27;</span>]</span><br><span class="line">images = [cat,thresh1,thresh2,thresh3,thresh4,thresh5]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>,<span class="number">3</span>,i+<span class="number">1</span>),</span><br><span class="line">    plt.imshow(images[i],<span class="string">&#x27;gray&#x27;</span>),</span><br><span class="line">    plt.xticks([]),</span><br><span class="line">    plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208185656238.png"
                      class="" title="image-20230208185656238"
                >

<h1 id="Cannyè¾¹ç¼˜æ£€æµ‹"><a href="#Cannyè¾¹ç¼˜æ£€æµ‹" class="headerlink" title="Cannyè¾¹ç¼˜æ£€æµ‹"></a>Cannyè¾¹ç¼˜æ£€æµ‹</h1><ol>
<li>ä½¿ç”¨é«˜æ–¯æ»¤æ³¢å™¨æ¶ˆé™¤å™ªå£°ï¼Œå› ä¸ºå™ªå£°ç‚¹ä¸æ™®é€šç‚¹é—´ä¹Ÿæœ‰æ¢¯åº¦</li>
<li>è®¡ç®—æ¯ä¸ªåƒç´ ç‚¹çš„æ¢¯åº¦å¼ºåº¦å’Œæ–¹å‘</li>
<li>åº”ç”¨éæå¤§å€¼æŠ‘åˆ¶ï¼Œæ¶ˆé™¤è¾¹ç¼˜æ£€æµ‹å¸¦æ¥çš„æ‚æ•£å“åº”</li>
<li>åº”ç”¨åŒé˜ˆå€¼æ£€æµ‹æ¥ç¡®å®šçœŸå®çš„å’Œæ½œåœ¨çš„è¾¹ç¼˜</li>
<li>é€šè¿‡æŠ‘åˆ¶å­¤ç«‹çš„è¾¹ç¼˜æœ€ç»ˆå®Œæˆè¾¹ç¼˜æ£€æµ‹</li>
</ol>
<h2 id="éæå¤§å€¼æŠ‘åˆ¶"><a href="#éæå¤§å€¼æŠ‘åˆ¶" class="headerlink" title="éæå¤§å€¼æŠ‘åˆ¶"></a>éæå¤§å€¼æŠ‘åˆ¶</h2><ol>
<li>é€šè¿‡Cçš„æ¢¯åº¦æ–¹å‘ç¡®å®šä¸Cç›¸é‚»çš„ä¸¤ä¸ªç‚¹ï¼ŒdTmp1å’ŒdTmp2ï¼Œå·²çŸ¥g1å’Œg2çš„ä½ç½®å’Œæ¢¯åº¦ï¼Œå¯ä»¥è®¡ç®—dTmp1çš„æ¢¯åº¦ï¼ŒdTmp2ç±»ä¼¼ã€‚<strong>è‹¥Cçš„æ¢¯åº¦å¤§äºdTmp1å’ŒdTmp2çš„æ¢¯åº¦ï¼Œå°±ä¿ç•™C</strong></li>
</ol>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208191920040.png"
                      class="" title="image-20230208191920040"
                >

<ol start="2">
<li>é€šè¿‡ç¡®å®šä¸€ç‚¹çš„æ¢¯åº¦æ–¹å‘ï¼Œé€‰æ‹©è¯¥æ–¹å‘ä¸Šç¦»è¯¥ç‚¹æœ€è¿‘çš„ä¸¤ä¸ªç‚¹ï¼Œåˆ†åˆ«è®¡ç®—æ¢¯åº¦ï¼Œè¯¥ç‚¹å¤§äºæœ€è¿‘çš„ä¸¤ç‚¹çš„æ¢¯åº¦ï¼Œä¿ç•™è¯¥ç‚¹çš„æ¢¯åº¦ï¼Œä¸”è¾¹ç¼˜æ–¹å‘ä¸æ¢¯åº¦æ–¹å‘å‚ç›´</li>
</ol>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208192217028.png"
                      class="" title="image-20230208192217028"
                >

<h2 id="åŒé˜ˆå€¼æ£€æµ‹"><a href="#åŒé˜ˆå€¼æ£€æµ‹" class="headerlink" title="åŒé˜ˆå€¼æ£€æµ‹"></a>åŒé˜ˆå€¼æ£€æµ‹</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ¢¯åº¦å€¼ &gt; maxValï¼šå¤„ç†ä¸ºè¾¹ç•Œ</span><br><span class="line">minval &lt; æ¢¯åº¦å€¼ &lt; maxValï¼šä¸è¾¹ç•Œç›¸è¿åˆ™ä¿ç•™ï¼Œå¦åˆ™èˆå¼ƒ</span><br><span class="line">æ¢¯åº¦å€¼ &lt; minValï¼šèˆå¼ƒ</span><br><span class="line"></span><br><span class="line">ä¸‹å›¾ä¸­ï¼šA Cä¿ç•™ï¼ŒB Dèˆå¼ƒ</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208192814702.png"
                      class="" title="image-20230208192814702"
                >



<p><strong>ä»£ç ï¼š</strong>ä¸Šè¿°å¤„ç†çš„ç»¼åˆ</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">lena = cv2.imread(<span class="string">&quot;../pic/lena.jpg&quot;</span>,cv2.IMREAD_GRAYSCALE)</span><br><span class="line">v1 = cv2.Canny(lena,<span class="number">80</span>,<span class="number">150</span>)</span><br><span class="line">v2 = cv2.Canny(lena,<span class="number">50</span>,<span class="number">100</span>)</span><br><span class="line">res = np.hstack((v1,v2))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br><span class="line"></span><br><span class="line">car = cv2.imread(<span class="string">&quot;../pic/car.png&quot;</span>,cv2.IMREAD_GRAYSCALE)</span><br><span class="line">v1 = cv2.Canny(car,<span class="number">120</span>,<span class="number">250</span>)</span><br><span class="line">v2 = cv2.Canny(car,<span class="number">50</span>,<span class="number">100</span>)</span><br><span class="line">res = np.hstack((v1,v2))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208193712743.png"
                      class="" title="image-20230208193712743"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208193715339.png"
                      class="" title="image-20230208193715339"
                >

<p><strong>å¯è§ï¼Œé˜ˆå€¼è®¾ç½®å¾—è¶Šå¤§ï¼Œè¾¹ç¼˜æ£€æµ‹å¾—è¶Šå°‘â€˜é˜ˆå€¼è®¾ç½®è¶Šå°ï¼Œè¾¹ç¼˜æ£€æµ‹è¶Šç»†è‡´</strong></p>
<h1 id="è½®å»“æ£€æµ‹"><a href="#è½®å»“æ£€æµ‹" class="headerlink" title="è½®å»“æ£€æµ‹"></a>è½®å»“æ£€æµ‹</h1><p>è¾¹ç¼˜æ˜¯æ–­ç»­çš„ï¼Œè½®å»“ä¸€å®šæ˜¯è¿ç»­çš„</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.findContours(img,mode,method)</span><br></pre></td></tr></table></figure></div>

<p><strong>modeï¼šè½®å»“æ£€ç´¢æ¨¡å¼</strong></p>
<ul>
<li>RETR_EXTERNALï¼šåªæ£€ç´¢æœ€å¤–é¢çš„è½®å»“</li>
<li>RETR_LISTï¼šæ£€ç´¢æ‰€æœ‰çš„è½®å»“ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°ä¸€æ¡é“¾è¡¨ä¸­</li>
<li>RETR_CCOMPï¼šæ£€ç´¢æ‰€æœ‰çš„è½®å»“ï¼Œå¹¶å°†ä»–ä»¬ç»„ç»‡ä¸ºä¸¤å±‚ï¼šé¡¶å±‚æ˜¯å„éƒ¨åˆ†çš„å¤–éƒ¨è¾¹ç•Œï¼Œç¬¬äºŒå±‚æ˜¯ç©ºæ´çš„è¾¹ç•Œ</li>
<li><strong>RETR_TREEï¼ˆæ¨èä½¿ç”¨ï¼‰</strong>ï¼šæ£€ç´¢æ‰€æœ‰çš„è½®å»“ï¼Œå¹¶é‡æ„åµŒå¥—è½®å»“çš„æ•´ä¸ªå±‚æ¬¡</li>
</ul>
<p><strong>methodï¼šè½®å»“é€¼è¿‘æ–¹æ³•</strong></p>
<ul>
<li>CHAIN_APPROX_NONEï¼šè¾“å‡ºæ•´ä¸ªè½®å»“</li>
<li>CHAIN_APPROX_SIMPLEï¼šè¾“å‡ºéƒ¨åˆ†è½®å»“</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/car.png&quot;</span>)</span><br><span class="line">gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)   <span class="comment">#ä¸ºäº†æ›´é«˜çš„å‡†ç¡®ç‡ï¼Œä½¿ç”¨ç°åº¦å›¾åƒ</span></span><br><span class="line"><span class="comment">#æ‰¾åˆ°</span></span><br><span class="line">ret,thresh = cv2.threshold(gray,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line"><span class="comment"># cv_show(&quot;thresh&quot;,thresh)</span></span><br><span class="line"></span><br><span class="line">binary,contours,hierarchy =cv2.findContours(thresh,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE) <span class="comment">#binaryå°±æ˜¯ç°åº¦å›¾åƒï¼›contoursè½®å»“ä¿¡æ¯ï¼›hierarchyè½®å»“å±‚çº§</span></span><br><span class="line"><span class="comment">#ç»˜åˆ¶è½®å»“ï¼Œä¼ å…¥ç»˜åˆ¶å›¾åƒï¼Œè½®å»“ï¼Œè½®å»“ç´¢å¼•ï¼Œé¢œè‰²æ¨¡å¼ï¼Œçº¿æ¡åšåº¦</span></span><br><span class="line">draw_img = img.copy()   <span class="comment">#å¿…é¡»å¤åˆ¶ï¼Œå¦åˆ™ä¼šä½œç”¨åˆ°åŸå›¾</span></span><br><span class="line"><span class="comment">#-1æŒ‡ç»˜åˆ¶æ‰€æœ‰è½®å»“ï¼ŒæŒ‡å®šå…¶ä»–å€¼å¯ç»˜åˆ¶å¯¹åº”çš„è½®å»“ï¼›ï¼ˆ0ï¼Œ0ï¼Œ255ï¼‰ï¼šç”¨çº¢è‰²ç»˜åˆ¶ï¼›2ï¼šç»˜åˆ¶å®½åº¦</span></span><br><span class="line"><span class="comment"># res = cv2.drawContours(draw_img,contours,-1,(0,0,255),2)</span></span><br><span class="line">res = cv2.drawContours(draw_img,contours,-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230208203325023.png"
                      class="" title="image-20230208203325023"
                >

<h1 id="è½®å»“è¿‘ä¼¼"><a href="#è½®å»“è¿‘ä¼¼" class="headerlink" title="è½®å»“è¿‘ä¼¼"></a>è½®å»“è¿‘ä¼¼</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/contours2.png&quot;</span>)</span><br><span class="line">gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line">ret,thresh = cv2.threshold(gray,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">binary,contours,hieraychy = cv2.findContours(thresh,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)</span><br><span class="line"><span class="comment"># print(contours)</span></span><br><span class="line"></span><br><span class="line">cnt = contours[<span class="number">0</span>]</span><br><span class="line">draw_img = img.copy()</span><br><span class="line">res = cv2.drawContours(draw_img,[cnt],-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)       <span class="comment">#è½®å»“</span></span><br><span class="line"><span class="comment"># cv_show(&quot;res&quot;,res)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é¢ç§¯ï¼Œä¸èƒ½ä¼ å…¥æ•´ä¸ªcontoursæ•°ç»„ï¼Œè¦å–æ•°ç»„å…ƒç´ </span></span><br><span class="line"><span class="comment"># S = cv2.contourArea(cnt)</span></span><br><span class="line"><span class="comment">#å‘¨é•¿</span></span><br><span class="line">epsilon = <span class="number">0.1</span> * cv2.arcLength(cnt,<span class="literal">True</span>)                       <span class="comment">#è¡¨ç¤ºè¿‘ä¼¼çš„ç²¾ç¡®æ€§ï¼Œæ˜¯åŸå§‹è½®å»“å’Œè¿‘ä¼¼è½®å»“ä¹‹é—´çš„æœ€å¤§å€¼ï¼›Trueè¡¨ç¤ºé—­åˆ</span></span><br><span class="line">approx = cv2.approxPolyDP(cnt,epsilon,<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">draw_img = img.copy()</span><br><span class="line">res = cv2.drawContours(draw_img,[approx],-<span class="number">1</span>,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209114624319.png"
                      class="" title="image-20230209114624319"
                >

<h1 id="å¤–ç•Œå›¾å½¢"><a href="#å¤–ç•Œå›¾å½¢" class="headerlink" title="å¤–ç•Œå›¾å½¢"></a>å¤–ç•Œå›¾å½¢</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">img1 = cv2.imread(<span class="string">&quot;../pic/contours.png&quot;</span>)</span><br><span class="line">gray = cv2.cvtColor(img1,cv2.COLOR_BGR2GRAY)</span><br><span class="line">ret,thresh = cv2.threshold(gray,<span class="number">127</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">binary,contours,hierarchy = cv2.findContours(thresh,cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)</span><br><span class="line">cnt = contours[<span class="number">0</span>]         <span class="comment">#ä¸€å¼ å›¾ç‰‡å¯èƒ½æœ‰å¤šä¸ªè½®å»“ï¼Œæ¯ä¸ªè½®å»“æœ‰å†…å¤–ä¸¤ä¸ªè½®å»“ï¼Œç”¨contoursæ•°ç»„ä¸‹æ ‡è¡¨ç¤º</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤–ç•ŒçŸ©é˜µ</span></span><br><span class="line">x,y,w,h = cv2.boundingRect(cnt)        <span class="comment">#è®¡ç®—å¹¶è¿”å›å¤–æ¥çŸ©å½¢ï¼Œè¿”å›çš„å˜é‡å¯ä»¥ç»˜åˆ¶çŸ©å½¢ï¼›wæ˜¯ä¸¤ç‚¹é—´çš„æ°´å¹³è·ç¦»ï¼Œhæ˜¯ä¸¤ç‚¹é—´çš„å‚ç›´è·ç¦»</span></span><br><span class="line">img1 = cv2.rectangle(img1,(x,y),(x+w,y+h),(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)         <span class="comment">#ç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line"><span class="comment"># cv_show(&quot;img1&quot;,img1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è½®å»“é¢ç§¯ä¸è¾¹ç•ŒçŸ©å½¢æ¯”</span></span><br><span class="line">area = cv2.contourArea(cnt)</span><br><span class="line">rect_area = w * h</span><br><span class="line">extent = <span class="built_in">float</span>(area) / rect_area</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è½®å»“é¢ç§¯ä¸è¾¹ç•ŒçŸ©å½¢æ¯”&quot;</span>,extent)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤–æ¥åœ†</span></span><br><span class="line">(x,y),radius = cv2.minEnclosingCircle(cnt)      <span class="comment">#è¿”å›åœ†å¿ƒå’ŒåŠå¾„</span></span><br><span class="line">center = (<span class="built_in">int</span>(x),<span class="built_in">int</span>(y))</span><br><span class="line">radius = <span class="built_in">int</span>(radius)</span><br><span class="line">img1 = cv2.circle(img1,center,radius,(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line">cv_show(<span class="string">&quot;img1&quot;</span>,img1)</span><br></pre></td></tr></table></figure></div>

<p><strong>cnt[0]å¤–ç•Œå›¾å½¢ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209114707171.png"
                      class="" title="image-20230209114707171"
                >

<p><strong>cnt[2]å¤–ç•Œå›¾å½¢ï¼š</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209114721812.png"
                      class="" title="image-20230209114721812"
                >

<h1 id="æ¨¡æ¿åŒ¹é…"><a href="#æ¨¡æ¿åŒ¹é…" class="headerlink" title="æ¨¡æ¿åŒ¹é…"></a>æ¨¡æ¿åŒ¹é…</h1><p>ç±»ä¼¼äºå·ç§¯åŸç†ï¼Œå°†æ¨¡æ¿ä»å›¾ç‰‡å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¾æ¬¡å¯¹æ¯”ï¼Œæ‰¾åˆ°æœ€æ¥è¿‘æ¨¡æ¿çš„ä½ç½®ã€‚è‹¥åŸå›¾å½¢æ˜¯A * Bå¤§å°ï¼Œæ¨¡æ¿æ˜¯a * bå¤§å°ï¼Œåˆ™è¾“å‡ºç»“æœçš„çŸ©é˜µæ˜¯ï¼ˆA-a+1ï¼‰<em>ï¼ˆB-b+1ï¼‰ã€‚*<em>æ‰¾åˆ°æœ€ç¬¦åˆæ¨¡æ¿çš„å·¦ä¸Šè§’çš„ä¸€ç‚¹ï¼Œæ ¹æ®æ¨¡æ¿çš„é•¿å®½ç»˜åˆ¶çŸ©å½¢</em></em></p>
<ul>
<li>TM__SQDIFFï¼šè®¡ç®—å¹³æ–¹ä¸åŒï¼Œè®¡ç®—ç»“æœè¶Šå°è¶Šç›¸å…³</li>
<li>TM_CCORRï¼šè®¡ç®—ç›¸å…³æ€§ï¼Œè®¡ç®—ç»“æœè¶Šå¤§è¶Šç›¸å…³</li>
<li>TM_CCOEFFï¼šè®¡ç®—ç›¸å…³ç³»æ•°ï¼Œè®¡ç®—ç»“æœè¶Šå¤§è¶Šç›¸å…³</li>
<li>TM__SQDIFF_NORMEDï¼šå½’ä¸€åŒ–ï¼Œè®¡ç®—ç»“æœè¶Šæ¥è¿‘0è¶Šç›¸å…³</li>
<li>TM_CCORR_NORMEDï¼šå½’ä¸€åŒ–ï¼Œè®¡ç®—ç»“æœè¶Šæ¥è¿‘1 è¶Šç›¸å…³</li>
<li>TM_CCOEFF_NORMEDï¼šå½’ä¸€åŒ–ï¼Œè®¡ç®—ç»“æœè¶Šæ¥è¿‘1è¶Šç›¸å…³</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¨¡æ¿åŒ¹é…</span></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/lena.jpg&quot;</span>)</span><br><span class="line">template = cv2.imread(<span class="string">&quot;../pic/face.png&quot;</span>)</span><br><span class="line">h,w = template.shape[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">methods  = [<span class="string">&#x27;cv2.TM_CCOEFF&#x27;</span>,<span class="string">&#x27;cv2.TM_CCOEFF_NORMED&#x27;</span>,<span class="string">&#x27;cv2.TM_CCORR&#x27;</span>,<span class="string">&#x27;cv2.TM_CCORR_NORMED&#x27;</span>,<span class="string">&quot;cv2.TM_SQDIFF&quot;</span>,<span class="string">&quot;cv2.TM_SQDIFF_NORMED&quot;</span>]</span><br><span class="line">res = cv2.matchTemplate(img,template,cv2.TM_CCORR)</span><br><span class="line"><span class="built_in">print</span>(res.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># min_val,max_val,min_loc,max_loc = cv2.minMaxLoc(res)</span></span><br><span class="line"><span class="comment"># print(min_val)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> meth <span class="keyword">in</span> methods:</span><br><span class="line">    img1 = img.copy()</span><br><span class="line">    method = <span class="built_in">eval</span>(meth)               <span class="comment">#methodä¸­çš„å…ƒç´ æ˜¯å­—ç¬¦ä¸²ï¼Œè¦è½¬æ¢ä¸ºçœŸå€¼</span></span><br><span class="line">    res = cv2.matchTemplate(img1,template,method)               <span class="comment">#ä¸€ä¸ªä¸€ä¸ªåœ°ä¸æ¨¡æ¿è¿›è¡ŒåŒ¹é…ï¼Œä¿å­˜åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">    min_val, max_val, min_loc, max_loc = cv2.minMaxLoc(res)     <span class="comment">#ä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§æˆ–æœ€å¤§çš„ä½ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#SQDIFFç¡®å®šå·¦ä¸Šè§’ç‚¹è¦å–minMaxLocå‡½æ•°çš„min_loc</span></span><br><span class="line">    <span class="keyword">if</span> method <span class="keyword">in</span> [cv2.TM_SQDIFF,cv2.TM_SQDIFF_NORMED]:</span><br><span class="line">        top_left = min_loc</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        top_left = max_loc</span><br><span class="line">    bottm_right = (top_left[<span class="number">0</span>] + w,top_left[<span class="number">1</span>] + h)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line">    cv2.rectangle(img1,top_left,bottm_right,(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    plt.subplot(<span class="number">121</span>),plt.imshow(res,cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">    plt.xticks([]),plt.yticks([])     <span class="comment">#éšè—åæ ‡è½´</span></span><br><span class="line">    plt.subplot(<span class="number">122</span>),plt.imshow(img1,cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">    plt.xticks([]),plt.yticks([])</span><br><span class="line">    plt.suptitle(meth)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209131703269.png"
                      class="" title="image-20230209131703269"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209131718238.png"
                      class="" title="image-20230209131718238"
                >

<h2 id="åŒ¹é…å¤šä¸ªå¯¹è±¡"><a href="#åŒ¹é…å¤šä¸ªå¯¹è±¡" class="headerlink" title="åŒ¹é…å¤šä¸ªå¯¹è±¡"></a>åŒ¹é…å¤šä¸ªå¯¹è±¡</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åŒ¹é…å¤šä¸ªå¯¹è±¡</span></span><br><span class="line">img_mario = cv2.imread(<span class="string">&quot;../pic/mario.png&quot;</span>)</span><br><span class="line"><span class="comment"># img_mario_gray = cv2.cvtColor(img_mario,cv2.COLOR_BGR2GRAY)</span></span><br><span class="line">template1 = cv2.imread(<span class="string">&quot;../pic/gold.png&quot;</span>)</span><br><span class="line">h,w = template.shape[:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">res = cv2.matchTemplate(img_mario,template1,cv2.TM_CCOEFF_NORMED)    <span class="comment">#è¿”å›çš„å°±æ˜¯ä¸æ¨¡æ¿åŒ¹é…çš„æ•°ç»„</span></span><br><span class="line">threshold = <span class="number">0.8</span></span><br><span class="line"><span class="comment">#å–åŒ¹é…ç¨‹åº¦çš„å¤§äº%80çš„åæ ‡</span></span><br><span class="line">loc = np.where(res &gt;= threshold)</span><br><span class="line"><span class="keyword">for</span> pt <span class="keyword">in</span> <span class="built_in">zip</span>(*loc[::-<span class="number">1</span>]):               <span class="comment">#zipå‡½æ•°è¿”å›ä¸€ä¸ªä»¥å…ƒç»„ä¸ºå…ƒç´ çš„åˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç»„åŒ…å«æ¯ä¸ªå‚æ•°åºåˆ—çš„ç¬¬ i ä¸ªå…ƒç´ ã€‚è¿”å›çš„åˆ—è¡¨é•¿åº¦è¢«æˆªæ–­ä¸ºæœ€çŸ­çš„å‚æ•°åºåˆ—çš„é•¿åº¦ã€‚</span></span><br><span class="line">    bottom_right = (pt[<span class="number">0</span>] + w,pt[<span class="number">1</span>] + h)</span><br><span class="line">    cv2.rectangle(img_mario,pt,bottom_right,(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">cv_show(<span class="string">&quot;img_mario&quot;</span>,img_mario)</span><br></pre></td></tr></table></figure></div>

<h1 id="å›¾åƒé‡‘å­—å¡”"><a href="#å›¾åƒé‡‘å­—å¡”" class="headerlink" title="å›¾åƒé‡‘å­—å¡”"></a>å›¾åƒé‡‘å­—å¡”</h1><h2 id="é«˜æ–¯é‡‘å­—å¡”"><a href="#é«˜æ–¯é‡‘å­—å¡”" class="headerlink" title="é«˜æ–¯é‡‘å­—å¡”"></a>é«˜æ–¯é‡‘å­—å¡”</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209141121285.png"
                      class="" title="image-20230209141121285"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209141200376.png"
                      class="" title="image-20230209141200376"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209141203373.png"
                      class="" title="image-20230209141203373"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/AM.png&quot;</span>)</span><br><span class="line"><span class="comment">#é«˜æ–¯é‡‘å­—å¡”å‘ä¸Šé‡‡æ ·ï¼Œç”¨0æ‰©å……å†å·ç§¯ï¼Œä¿¡æ¯å‡å°‘</span></span><br><span class="line">up = cv2.pyrUp(img)</span><br><span class="line"><span class="comment"># cv_show(&quot;up&quot;,up)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é«˜æ–¯é‡‘å­—å¡”ä¹¡ä¸‹é‡‡æ ·ï¼Œå…ˆå·ç§¯å†å½’ä¸€åŒ–ï¼Œä¿¡æ¯å‡å°‘</span></span><br><span class="line">down = cv2.pyrDown(img)</span><br><span class="line"><span class="comment"># cv_show(&quot;down&quot;,down)</span></span><br><span class="line"></span><br><span class="line">up2 = cv2.pyrUp(up)</span><br><span class="line"><span class="comment"># cv_show(&quot;up2&quot;,up2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å…ˆå‘ä¸Šé‡‡æ ·ï¼Œå†å‘ä¸‹é‡‡æ ·</span></span><br><span class="line">up_down = cv2.pyrDown(up)</span><br><span class="line">res = np.hstack((img,up_down))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209143000577.png"
                      class="" title="image-20230209143000577"
                >

<h2 id="æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”"><a href="#æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”" class="headerlink" title="æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”"></a>æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”</h2><p><code>åŸå›¾åƒ - å…ˆå‘ä¸‹é‡‡æ ·å†å‘ä¸Šé‡‡æ ·çš„å›¾åƒ</code></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209143138032-16759242982013.png"
                      class="" title="image-20230209143138032"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">down1 = cv2.pyrDown(img_l_l)</span><br><span class="line">down_up = cv2.pyrUp(down1)</span><br><span class="line">l_l= img_l_l - down_up</span><br><span class="line">cv_show(<span class="string">&quot;l_l&quot;</span>,l_l)</span><br></pre></td></tr></table></figure></div>



<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209143947478.png"
                      class="" title="image-20230209143947478"
                >

<h1 id="ç¤ºä¾‹ï¼šæ–‡æ¡£æ‰«æOCRè¯†åˆ«"><a href="#ç¤ºä¾‹ï¼šæ–‡æ¡£æ‰«æOCRè¯†åˆ«" class="headerlink" title="ç¤ºä¾‹ï¼šæ–‡æ¡£æ‰«æOCRè¯†åˆ«"></a>ç¤ºä¾‹ï¼šæ–‡æ¡£æ‰«æOCRè¯†åˆ«</h1><ol>
<li><p>å›¾ç‰‡é¢„å¤„ç†ï¼š<code>è½¬ä¸ºç°åº¦å›¾ - é«˜æ–¯æ»¤æ³¢å»é™¤å™ªç‚¹ - è¾¹ç¼˜æ£€æµ‹ - è½®å»“æ£€æµ‹</code></p>
</li>
<li><p>é€‰æ‹©è½®å»“ï¼šå®é™…æƒ…å†µå¯èƒ½ä¼šç”»å‡ºå¤šä¸ªè½®å»“ï¼Œé€šè¿‡éå†è½®å»“ï¼Œé€‰æ‹©å¯¹åº”çš„è½®å»“</p>
</li>
<li><p>å°†è½®å»“å››ç‚¹æŒ‰æ¯”ä¾‹å˜æ¢rect - ç¡®å®šå››ç‚¹çš„ä½ç½® - è®¡ç®—ç»å˜åŒ–åçš„é•¿å®½ - ç¡®å®šå››ç‚¹å°†è¦å˜æ¢çš„åæ ‡dst</p>
</li>
<li><p>æ ¹æ®rectå’Œdstï¼Œè®¡ç®—å˜æ¢çŸ©é˜µï¼Œå°†å˜æ¢çŸ©é˜µè¿ç”¨åˆ°å›¾ç‰‡ä¸­</p>
</li>
<li><p>æ ¹æ®åŸå›¾å¤§å°ï¼Œresizeç»å˜æ¢çŸ©é˜µå˜æ¢çš„å›¾ç‰‡</p>
</li>
</ol>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥å·¥å…·åŒ…</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å‚æ•°</span></span><br><span class="line">ap = argparse.ArgumentParser()</span><br><span class="line">ap.add_argument(<span class="string">&quot;-i&quot;</span>, <span class="string">&quot;--image&quot;</span>, required = <span class="literal">True</span>,</span><br><span class="line">   <span class="built_in">help</span> = <span class="string">&quot;Path to the image to be scanned&quot;</span>) </span><br><span class="line">args = <span class="built_in">vars</span>(ap.parse_args())</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">order_points</span>(<span class="params">pts</span>):</span><br><span class="line">   <span class="comment"># ä¸€å…±4ä¸ªåæ ‡ç‚¹</span></span><br><span class="line">   rect = np.zeros((<span class="number">4</span>, <span class="number">2</span>), dtype = <span class="string">&quot;float32&quot;</span>)      <span class="comment">#å®šä¹‰äº†ä¸€ä¸ªäºŒç»´æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># æŒ‰é¡ºåºæ‰¾åˆ°å¯¹åº”åæ ‡0123åˆ†åˆ«æ˜¯ å·¦ä¸Šï¼Œå³ä¸Šï¼Œå³ä¸‹ï¼Œå·¦ä¸‹</span></span><br><span class="line">   <span class="comment"># è®¡ç®—å·¦ä¸Šï¼Œå³ä¸‹</span></span><br><span class="line">   <span class="comment">#å°†ptsä¸­çš„æ¯ä¸ªç‚¹æ¨ªçºµåæ ‡åˆ†åˆ«ç›¸åŠ ï¼Œç”Ÿæˆä¸€ä¸ªä¸€ç»´çŸ©é˜µ</span></span><br><span class="line">   s = pts.<span class="built_in">sum</span>(axis = <span class="number">1</span>)                   <span class="comment">#axis=1ä»£è¡¨å°†ä¸€ä¸ªçŸ©é˜µçš„æ¯ä¸€è¡Œçš„å€¼ç›¸åŠ ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸€ç»´çŸ©é˜µ</span></span><br><span class="line">   <span class="comment">#sä¸­æœ€å°çš„æ˜¯å·¦ä¸Šï¼Œæœ€å¤§çš„æ˜¯å³ä¸‹</span></span><br><span class="line">   rect[<span class="number">0</span>] = pts[np.argmin(s)]</span><br><span class="line">   rect[<span class="number">2</span>] = pts[np.argmax(s)]</span><br><span class="line"></span><br><span class="line">   <span class="comment"># è®¡ç®—å³ä¸Šå’Œå·¦ä¸‹</span></span><br><span class="line">   diff = np.diff(pts, axis = <span class="number">1</span>)           <span class="comment">#å°†ptsä¸­çš„æ¯ä¸ªç‚¹çš„çºµæ¨ªåæ ‡ç›¸å‡ï¼Œaxis=1ä»£è¡¨æ¯ä¸€è¡Œ</span></span><br><span class="line">   rect[<span class="number">1</span>] = pts[np.argmin(diff)]</span><br><span class="line">   rect[<span class="number">3</span>] = pts[np.argmax(diff)]</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> rect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">four_point_transform</span>(<span class="params">image, pts</span>):</span><br><span class="line">   <span class="comment"># è·å–è¾“å…¥åæ ‡ç‚¹ï¼Œå°†å››ä¸ªç‚¹åˆ†ä¸ºå·¦ä¸Šï¼Œå³ä¸Šï¼Œå·¦ä¸‹ï¼Œå³ä¸‹</span></span><br><span class="line">   rect = order_points(pts)</span><br><span class="line">   (tl, tr, br, bl) = rect</span><br><span class="line"></span><br><span class="line">   <span class="comment"># è®¡ç®—è¾“å…¥çš„wå’Œhå€¼     ä¸¤ç‚¹é—´åæ ‡</span></span><br><span class="line">   widthA = np.sqrt(((br[<span class="number">0</span>] - bl[<span class="number">0</span>]) ** <span class="number">2</span>) + ((br[<span class="number">1</span>] - bl[<span class="number">1</span>]) ** <span class="number">2</span>))</span><br><span class="line">   widthB = np.sqrt(((tr[<span class="number">0</span>] - tl[<span class="number">0</span>]) ** <span class="number">2</span>) + ((tr[<span class="number">1</span>] - tl[<span class="number">1</span>]) ** <span class="number">2</span>))</span><br><span class="line">   maxWidth = <span class="built_in">max</span>(<span class="built_in">int</span>(widthA), <span class="built_in">int</span>(widthB))          <span class="comment">#å–ä¸¤ç»„é•¿åº¦ä¸­çš„å¤§çš„</span></span><br><span class="line"></span><br><span class="line">   heightA = np.sqrt(((tr[<span class="number">0</span>] - br[<span class="number">0</span>]) ** <span class="number">2</span>) + ((tr[<span class="number">1</span>] - br[<span class="number">1</span>]) ** <span class="number">2</span>))</span><br><span class="line">   heightB = np.sqrt(((tl[<span class="number">0</span>] - bl[<span class="number">0</span>]) ** <span class="number">2</span>) + ((tl[<span class="number">1</span>] - bl[<span class="number">1</span>]) ** <span class="number">2</span>))</span><br><span class="line">   maxHeight = <span class="built_in">max</span>(<span class="built_in">int</span>(heightA), <span class="built_in">int</span>(heightB))</span><br><span class="line"></span><br><span class="line">   <span class="comment"># å˜æ¢åå¯¹åº”åæ ‡ä½ç½®</span></span><br><span class="line">   dst = np.array([</span><br><span class="line">      [<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">      [maxWidth - <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">      [maxWidth - <span class="number">1</span>, maxHeight - <span class="number">1</span>],</span><br><span class="line">      [<span class="number">0</span>, maxHeight - <span class="number">1</span>]], dtype = <span class="string">&quot;float32&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment"># è®¡ç®—å˜æ¢çŸ©é˜µ    rectæ˜¯ç»åŸå›¾å˜æ¢çš„åæ ‡ï¼Œdstæ˜¯æœ€åè¦å˜æ¢çš„åæ ‡</span></span><br><span class="line">   M = cv2.getPerspectiveTransform(rect, dst)</span><br><span class="line">   warped = cv2.warpPerspective(image, M, (maxWidth, maxHeight))     <span class="comment">#å°†å›¾åƒåº”ç”¨å·ç§¯å˜æ¢</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># è¿”å›å˜æ¢åç»“æœ</span></span><br><span class="line">   <span class="keyword">return</span> warped</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resize</span>(<span class="params">image, width=<span class="literal">None</span>, height=<span class="literal">None</span>, inter=cv2.INTER_AREA</span>):</span><br><span class="line">   dim = <span class="literal">None</span></span><br><span class="line">   (h, w) = image.shape[:<span class="number">2</span>]</span><br><span class="line">   <span class="keyword">if</span> width <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">and</span> height <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      <span class="keyword">return</span> image</span><br><span class="line">   <span class="keyword">if</span> width <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      r = height / <span class="built_in">float</span>(h)</span><br><span class="line">      dim = (<span class="built_in">int</span>(w * r), height)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">      r = width / <span class="built_in">float</span>(w)</span><br><span class="line">      dim = (width, <span class="built_in">int</span>(h * r))</span><br><span class="line">   resized = cv2.resize(image, dim, interpolation=inter)</span><br><span class="line">   <span class="keyword">return</span> resized</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–è¾“å…¥</span></span><br><span class="line"><span class="comment"># image = cv2.imread(args[&quot;image&quot;])</span></span><br><span class="line">image = cv2.imread(<span class="string">&quot;images/page.jpg&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#åŸå›¾å½¢çŠ¶å¯èƒ½ä¸è§„åˆ™ï¼Œå¯ä»¥é€šè¿‡å˜æ¢æå–åŸå›¾ä¸­çš„å›¾å½¢ï¼Œè®°å½•å˜æ¢æ¯”ä¾‹ä»¥è¿˜åŸåŸå›¾ä¸­çš„å›¾å½¢ä¸ºåŸå›¾å¤§å°</span></span><br><span class="line">ratio = image.shape[<span class="number">0</span>] / <span class="number">500.0</span></span><br><span class="line">orig = image.copy()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">image = resize(orig, height = <span class="number">500</span>)      <span class="comment">#è®°å½•é«˜çš„å˜åŒ–å°±å¯ä»¥ï¼Œå®½å˜åŒ–æ¯”ä¾‹ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢„å¤„ç†</span></span><br><span class="line">gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line">gray = cv2.GaussianBlur(gray, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">0</span>)     <span class="comment">#é«˜æ–¯æ»¤æ³¢å»é™¤å™ªéŸ³</span></span><br><span class="line">edged = cv2.Canny(gray, <span class="number">75</span>, <span class="number">200</span>)             <span class="comment">#è¾¹ç¼˜æ£€æµ‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤ºé¢„å¤„ç†ç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;STEP 1: è¾¹ç¼˜æ£€æµ‹&quot;</span>)</span><br><span class="line"><span class="comment"># cv2.imshow(&quot;Image&quot;, image)</span></span><br><span class="line"><span class="comment"># cv2.imshow(&quot;Edged&quot;, edged)</span></span><br><span class="line"><span class="comment"># cv2.waitKey(0)</span></span><br><span class="line"><span class="comment"># cv2.destroyAllWindows()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è½®å»“æ£€æµ‹    RETR_LISTï¼šæ£€æµ‹æ‰€æœ‰è½®å»“å¹¶ä¿å­˜åˆ°ä¸€ä¸ªé“¾è¡¨ä¸­</span></span><br><span class="line">cnts = cv2.findContours(edged.copy(), cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)[<span class="number">1</span>]</span><br><span class="line">cnts = <span class="built_in">sorted</span>(cnts, key = cv2.contourArea, reverse = <span class="literal">True</span>)[:<span class="number">5</span>]          <span class="comment">#reverseä¸ºTrueï¼šé™åº</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†è½®å»“</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cnts:</span><br><span class="line">   <span class="comment"># è®¡ç®—è½®å»“è¿‘ä¼¼</span></span><br><span class="line">   peri = cv2.arcLength(c, <span class="literal">True</span>)</span><br><span class="line">   <span class="comment"># Cè¡¨ç¤ºè¾“å…¥çš„ç‚¹é›†</span></span><br><span class="line">   <span class="comment"># epsilonè¡¨ç¤ºä»åŸå§‹è½®å»“åˆ°è¿‘ä¼¼è½®å»“çš„æœ€å¤§è·ç¦»ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡†ç¡®åº¦å‚æ•°</span></span><br><span class="line">   <span class="comment"># Trueè¡¨ç¤ºå°é—­çš„</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">#éœ€è¦æ³¨æ„ï¼Œéœ€è¦è§‚å¯Ÿç°è±¡æ‰‹åŠ¨è°ƒæ•´è½®å»“è¿‘ä¼¼ä¸­çš„å‚æ•°ï¼ˆ0.02ï¼‰</span></span><br><span class="line">   approx = cv2.approxPolyDP(c, <span class="number">0.02</span> * peri, <span class="literal">True</span>)            <span class="comment">#è¿”å›çš„æ˜¯è½®å»“ï¼Œä¸èƒ½ç›´æ¥ç»˜åˆ¶</span></span><br><span class="line">   <span class="comment"># res = cv2.drawContours(image,[approx],-1,(0,0,255),2)</span></span><br><span class="line">   <span class="comment"># cv2.imshow(&quot;res&quot;, res)</span></span><br><span class="line">   <span class="comment"># cv2.waitKey(0)</span></span><br><span class="line">   <span class="comment"># cv2.destroyAllWindows()</span></span><br><span class="line"></span><br><span class="line">   <span class="comment"># 4ä¸ªç‚¹çš„æ—¶å€™å°±æ‹¿å‡ºæ¥</span></span><br><span class="line">   <span class="keyword">if</span> <span class="built_in">len</span>(approx) == <span class="number">4</span>:</span><br><span class="line">      screenCnt = approx</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤ºç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;STEP 2: è·å–è½®å»“&quot;</span>)</span><br><span class="line">cv2.drawContours(image, [screenCnt], -<span class="number">1</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">cv2.imshow(<span class="string">&quot;Outline&quot;</span>, image)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€è§†å˜æ¢</span></span><br><span class="line">warped = four_point_transform(orig, screenCnt.reshape(<span class="number">4</span>, <span class="number">2</span>) * ratio)       <span class="comment">#å°†åŸå›¾ä¸­çš„å››ä¸ªç‚¹æŒ‰æ¯”ä¾‹å˜åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒå€¼å¤„ç†   æ–‡å­—çº¸å¼ å¯¹æ¯”æ›´æ¸…æ¥š</span></span><br><span class="line">warped = cv2.cvtColor(warped, cv2.COLOR_BGR2GRAY)</span><br><span class="line">ref = cv2.threshold(warped, <span class="number">100</span>, <span class="number">255</span>, cv2.THRESH_BINARY)[<span class="number">1</span>]</span><br><span class="line">cv2.imwrite(<span class="string">&#x27;scan.jpg&#x27;</span>, ref)</span><br><span class="line"><span class="comment"># å±•ç¤ºç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;STEP 3: å˜æ¢&quot;</span>)</span><br><span class="line">cv2.imshow(<span class="string">&quot;Original&quot;</span>, resize(orig, height = <span class="number">650</span>))              <span class="comment">#æ”¾å¤§åˆ°åŸå›¾å¤§å°</span></span><br><span class="line">cv2.imshow(<span class="string">&quot;Scanned&quot;</span>, resize(ref, height = <span class="number">650</span>))</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230209174228235.png"
                      class="" title="image-20230209174228235"
                >

<p><strong>æ³¨æ„ï¼šè¿˜å¯ä»¥ä½¿ç”¨tesseractç­‰å·¥å…·åŒ…å¯¹çº¸å¼ å†…å®¹è¿›è¡Œè¯†åˆ«</strong></p>
<h1 id="ç›´æ–¹å›¾"><a href="#ç›´æ–¹å›¾" class="headerlink" title="ç›´æ–¹å›¾"></a>ç›´æ–¹å›¾</h1><p><strong>é€šè¿‡ç›´æ–¹å›¾ç»Ÿè®¡å›¾ç‰‡åƒç´ ç‚¹çš„ç›¸åŒçš„å€¼</strong></p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.calcHist(image,channels,mask,histSize,ranges)</span><br></pre></td></tr></table></figure></div>

<ul>
<li>channelsï¼š[0],[1],[2]åˆ†åˆ«è¡¨ç¤ºBGR</li>
<li>maskï¼šå›¾ç‰‡ä¸­éœ€è¦ç»˜åˆ¶ç›´æ–¹å›¾çš„éƒ¨åˆ†</li>
<li>histSizeï¼šç›´æ–¹å›¾çš„Xè½´ï¼ˆ256ä¸ªå€¼ï¼Œä¸€èˆ¬é»˜è®¤ï¼‰</li>
<li>rangesï¼šåƒç´ å€¼èŒƒå›´ï¼ˆ256ä¸ªå€¼ï¼Œä¸€èˆ¬é»˜è®¤ï¼‰</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210111500702.png"
                      class="" title="image-20230210111500702"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../pic/cat.jpg&#x27;</span>,<span class="number">0</span>)  <span class="comment">#0è¡¨ç¤ºç°åº¦å›¾</span></span><br><span class="line">hist = cv2.calcHist([img],[<span class="number">0</span>],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">256</span>])</span><br><span class="line"></span><br><span class="line">color = (<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i,col <span class="keyword">in</span> <span class="built_in">enumerate</span>(color):</span><br><span class="line">    histr = cv2.calcHist([img],[i],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">    plt.plot(histr,color = col)</span><br><span class="line">    plt.xlim([<span class="number">0</span>,<span class="number">256</span>])</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210113356587.png"
                      class="" title="image-20230210113356587"
                >

<h2 id="maskçš„ä½¿ç”¨"><a href="#maskçš„ä½¿ç”¨" class="headerlink" title="maskçš„ä½¿ç”¨"></a>maskçš„ä½¿ç”¨</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../pic/cat.jpg&#x27;</span>,<span class="number">0</span>)  <span class="comment">#0è¡¨ç¤ºç°åº¦å›¾</span></span><br><span class="line"><span class="comment"># print(img)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºmask,ä¸åŸå›¾å¤§å°ä¸€è‡´</span></span><br><span class="line">mask = np.zeros(img.shape[:<span class="number">2</span>],np.uint8)            <span class="comment">#åˆ›å»ºäº†åŸå›¾é•¿å®½å¤§å°çš„æ•°å€¼å…¨ä¸º0çš„çŸ©é˜µ</span></span><br><span class="line">mask[<span class="number">100</span>:<span class="number">300</span>,<span class="number">100</span>:<span class="number">400</span>] = <span class="number">255</span>             <span class="comment">#maskçš„æ“ä½œï¼Œå°†éœ€è¦æ˜¾ç¤ºçš„éƒ¨åˆ†ç½®ç™½</span></span><br><span class="line">cv_show(<span class="string">&quot;mask&quot;</span>,mask)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸æ“ä½œï¼Œå› ä¸ºmaskåƒç´ ç‚¹çš„å€¼åªæœ‰0å’Œ255ä¸¤ä¸ªæ•°å€¼ï¼ŒåŸå›¾çš„åƒç´ ç‚¹å’Œ0è¿›è¡Œä¸æ“ä½œå°±ä¼šå°†ä¸éœ€è¦çš„éƒ¨åˆ†ç½®ä¸º0</span></span><br><span class="line">masked_img = cv2.bitwise_and(img,img,mask=mask)</span><br><span class="line">cv_show(<span class="string">&quot;mask_img&quot;</span>,masked_img)</span><br><span class="line"></span><br><span class="line">hist_full = cv2.calcHist([img],[<span class="number">0</span>],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])          <span class="comment">#å˜é‡å¿…é¡»ç”¨[]åŒ…å«</span></span><br><span class="line">hist_mask = cv2.calcHist([img],[<span class="number">0</span>],mask,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">plt.subplot(<span class="number">221</span>), plt.imshow(img,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">222</span>), plt.imshow(mask,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">223</span>), plt.imshow(masked_img,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">224</span>), plt.plot(hist_full),plt.plot(hist_mask)</span><br><span class="line">plt.xlim([<span class="number">0</span>,<span class="number">256</span>])                                           <span class="comment">#è®¾ç½®xè½´çš„å–å€¼èŒƒå›´</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210115022651.png"
                      class="" title="image-20230210115022651"
                >

<h2 id="å‡è¡¡åŒ–"><a href="#å‡è¡¡åŒ–" class="headerlink" title="å‡è¡¡åŒ–"></a>å‡è¡¡åŒ–</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210115806340.png"
                      class="" title="image-20230210115806340"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210115954702.png"
                      class="" title="image-20230210115954702"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210120014534.png"
                      class="" title="image-20230210120014534"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../pic/cat.jpg&#x27;</span>,<span class="number">0</span>)  <span class="comment">#0è¡¨ç¤ºç°åº¦å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å‡è¡¡åŒ–          histç»˜åˆ¶ç›´æ–¹å›¾ï¼Œç”¨æ³•æ˜¯histï¼ˆyï¼Œxï¼‰ï¼Œè¡¨ç¤ºä»¥å‘é‡xçš„å„ä¸ªå…ƒç´ ä¸ºç»Ÿè®¡èŒƒå›´ï¼Œç»˜åˆ¶yçš„åˆ†å¸ƒæƒ…å†µã€‚</span></span><br><span class="line">plt.hist(img.ravel(),<span class="number">256</span>)       <span class="comment">#ravelæ˜¯å¤šç»´æ•°æ®å±•å¹³å‡½æ•°ï¼Œè¿™é‡Œå°†å›¾ç‰‡çš„åƒç´ ç‚¹çš„å€¼å±•æˆä¸€ç»´</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line">equ = cv2.equalizeHist(img)              <span class="comment">#å‡è¡¡åŒ–ç›´æ–¹å›¾</span></span><br><span class="line">plt.hist(equ.ravel(),<span class="number">256</span>)</span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line">res = np.hstack((img,equ))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210121903677.png"
                      class="" title="image-20230210121903677"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210121935985.png"
                      class="" title="image-20230210121935985"
                >

<p><strong>æ³¨æ„ï¼šå‡è¡¡åŒ–ä¼šå› ä¸ºå¹³å‡æ“ä½œä¸¢å¤±ç»†èŠ‚ï¼Œä½†å¯ä»¥æé«˜äº®åº¦</strong></p>
<h3 id="è‡ªé€‚åº”å‡è¡¡åŒ–"><a href="#è‡ªé€‚åº”å‡è¡¡åŒ–" class="headerlink" title="è‡ªé€‚åº”å‡è¡¡åŒ–"></a>è‡ªé€‚åº”å‡è¡¡åŒ–</h3><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è‡ªé€‚åº”å‡è¡¡åŒ–             clipLimitï¼šé¢œè‰²å¯¹æ¯”åº¦çš„é˜ˆå€¼,é»˜è®¤å€¼ 8titleGridSizeï¼šå±€éƒ¨ç›´æ–¹å›¾å‡è¡¡åŒ–çš„æ¨¡æ¿å¤§å°ï¼Œé»˜è®¤å€¼ (8,8)</span></span><br><span class="line"><span class="comment">#å°†å›¾ç‰‡åˆ’åˆ†ä¸ºå¤šä¸ªæ–¹æ ¼ï¼Œæ¯ä¸ªæ–¹æ ¼åˆ†åˆ«å‡è¡¡åŒ–ã€‚æ–¹æ ¼é—´çš„è¾¹ç•Œå¯èƒ½ä¼šæ›´æ˜æ™°ï¼Œä½†createCLAHEä¼šè‡ªåŠ¨å¤„ç†ï¼Œæé«˜äº®åº¦çš„åŒæ—¶ï¼Œä¿å­˜æ›´å¤šç»†èŠ‚</span></span><br><span class="line">clahe = cv2.createCLAHE(clipLimit=<span class="number">2.0</span>,tileGridSize=(<span class="number">8</span>,<span class="number">8</span>))</span><br><span class="line">res_clahe = clahe.apply(img)</span><br><span class="line">res = np.hstack((img,equ,res_clahe))</span><br><span class="line">cv_show(<span class="string">&quot;res&quot;</span>,res)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210123034000.png"
                      class="" title="image-20230210123034000"
                >

<h1 id="å‚…é‡Œå¶å˜æ¢"><a href="#å‚…é‡Œå¶å˜æ¢" class="headerlink" title="å‚…é‡Œå¶å˜æ¢"></a>å‚…é‡Œå¶å˜æ¢</h1><p><strong>ä½œç”¨ï¼šå°†å›¾åƒå¤„ç†ä¸ºé«˜é¢‘å’Œä½é¢‘ä¸¤éƒ¨åˆ†ï¼Œå›¾åƒå˜æ¢æ›´å®¹æ˜“</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210132239516.png"
                      class="" title="image-20230210132239516"
                >

<ul>
<li>é«˜é¢‘ï¼šå˜åŒ–å‰§çƒˆçš„ç°åº¦åˆ†é‡ï¼Œä¾‹å¦‚è¾¹ç•Œ</li>
<li>ä½é¢‘ï¼šå˜åŒ–ç¼“æ…¢çš„ç°åº¦åˆ†é‡</li>
</ul>
<h2 id="æ»¤æ³¢"><a href="#æ»¤æ³¢" class="headerlink" title="æ»¤æ³¢"></a>æ»¤æ³¢</h2><ul>
<li><p>ä½é€šæ»¤æ³¢å™¨ï¼šåªä¿ç•™ä½é¢‘ï¼Œä½¿å¾—å›¾åƒæ¨¡ç³Š</p>
</li>
<li><p>é«˜é€šæ»¤æ³¢å™¨ï¼šåªä¿ç•™é«˜é¢‘ï¼Œä½¿å¾—å›¾åƒç»†èŠ‚å¢å¼º</p>
</li>
<li><p>opencvä¸­ä¸»è¦å°±æ˜¯**cv2.dft()<strong>å’Œ</strong>cv2.idft()**ï¼Œè¾“å…¥å›¾åƒéœ€è¦å…ˆè½¬æ¢æˆnp.float32æ ¼å¼ã€‚</p>
</li>
<li><p>å¾—åˆ°çš„ç»“æœä¸­é¢‘ç‡ä¸º0çš„éƒ¨åˆ†ä¼šåœ¨å·¦ä¸Šè§’ï¼Œé€šå¸¸è¦è½¬æ¢åˆ°ä¸­å¿ƒä½ç½®ï¼Œå¯ä»¥é€šè¿‡shiftå˜æ¢æ¥å®ç°ã€‚</p>
</li>
<li><p>cv2.dft()è¿”å›çš„ç»“æœæ˜¯åŒé€šé“çš„ï¼ˆå®éƒ¨ï¼Œè™šéƒ¨)ï¼Œé€šå¸¸è¿˜éœ€è¦è½¬æ¢æˆå›¾åƒæ ¼å¼æ‰èƒ½å±•ç¤º(0.255)ã€‚</p>
</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../pic/lena.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment">#å°†æ‰§è¡Œå‚…é‡Œå¶å˜æ¢çš„å›¾ç‰‡è½¬ä¸ºfloat32ç±»å‹</span></span><br><span class="line">img_float32 = np.float32(img)</span><br><span class="line"><span class="comment">#å‚…é‡Œå¶å˜æ¢</span></span><br><span class="line">dft = cv2.dft(img_float32,flags=cv2.DFT_COMPLEX_OUTPUT)</span><br><span class="line"><span class="comment">#å°†å‚…é‡Œå¶å˜æ¢ç»“æœä¸­çš„ä½é¢‘ç‚¹è½¬åˆ°åæ ‡è½´çš„åŸç‚¹</span></span><br><span class="line">dft_shift = np.fft.fftshift(dft)      <span class="comment">#ä½¿ç”¨fftå‡½æ•°å¯¹ä½™å¼¦æ³¢ä¿¡å·è¿›è¡Œå‚…é‡Œå¶å˜æ¢ã€‚</span></span><br><span class="line"><span class="comment">#cv2.dft()è¿”å›çš„ç»“æœæ˜¯åŒé€šé“çš„ï¼ˆå®éƒ¨ï¼Œè™šéƒ¨)ï¼Œé€šå¸¸è¿˜éœ€è¦è½¬æ¢æˆå›¾åƒæ ¼å¼æ‰èƒ½å±•ç¤º(0.255)ã€‚</span></span><br><span class="line">magnitude_spectrum = <span class="number">20</span> * np.log(cv2.magnitude(dft_shift[:,:,<span class="number">0</span>],dft_shift[:,:,<span class="number">1</span>]))      <span class="comment">#magnitudeå‡½æ•°ï¼šè®¡ç®—äºŒç»´æ•°ç»„çš„æœ€å¤§å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.subplot(121),plt.imshow(img,cmap=&#x27;gray&#x27;)</span></span><br><span class="line"><span class="comment"># plt.title(&#x27;Input image&#x27;),plt.xticks([]),plt.yticks([])</span></span><br><span class="line"><span class="comment"># plt.subplot(122),plt.imshow(magnitude_spectrum,&#x27;gray&#x27;)</span></span><br><span class="line"><span class="comment"># plt.title(&#x27;Magnitude Spectrum&#x27;),plt.xticks([]),plt.yticks([])</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½é¢‘æ»¤æ³¢</span></span><br><span class="line">rows,cols = img.shape</span><br><span class="line">crow,ccol = <span class="built_in">int</span>(rows/<span class="number">2</span>),<span class="built_in">int</span>(cols/<span class="number">2</span>)</span><br><span class="line">mask = np.zeros((rows,cols,<span class="number">2</span>),np.uint8)      <span class="comment">#åˆ›å»ºä¸åŸå›¾å¤§å°ä¸€è‡´çš„å›¾åƒ</span></span><br><span class="line">mask[crow-<span class="number">30</span>:crow+<span class="number">30</span>,ccol-<span class="number">30</span>:ccol+<span class="number">30</span>] = <span class="number">1</span>    <span class="comment">#å°†ä¸­ç‚¹é™„è¿‘çš„åƒç´ ç‚¹ç½®1</span></span><br><span class="line">fshift = dft_shift * mask                   <span class="comment">#é€šè¿‡ä¸maskç›¸ä¹˜ï¼Œå°±åªå‰©ä¸‹äº†ä¸­é—´çš„åŒºåŸŸï¼Œå³ä½é¢‘</span></span><br><span class="line">f_ishift = np.fft.ifftshift(fshift)         <span class="comment">#å°†åŸç‚¹è½¬ä¸ºåŸå›¾åŸæ¥çš„ä½ç½®</span></span><br><span class="line">img_back = cv2.idft(f_ishift)               <span class="comment">#å‚…é‡Œå¶å˜æ¢é€†å˜æ¢</span></span><br><span class="line">img_back = cv2.magnitude(img_back[:,:,<span class="number">0</span>],img_back[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.subplot(121),plt.imshow(img,cmap=&#x27;gray&#x27;)</span></span><br><span class="line"><span class="comment"># plt.title(&#x27;Input image&#x27;),plt.xticks([]),plt.yticks([])</span></span><br><span class="line"><span class="comment"># plt.subplot(122),plt.imshow(img_back,&#x27;gray&#x27;)</span></span><br><span class="line"><span class="comment"># plt.title(&#x27;result&#x27;),plt.xticks([]),plt.yticks([])</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#é«˜é¢‘æ»¤æ³¢</span></span><br><span class="line">rows1,cols1 = img.shape</span><br><span class="line">crow1,ccol1 = <span class="built_in">int</span>(rows1/<span class="number">2</span>),<span class="built_in">int</span>(cols1/<span class="number">2</span>)</span><br><span class="line">mask = np.ones((rows1,cols1,<span class="number">2</span>),np.uint8)      <span class="comment">#åˆ›å»ºä¸åŸå›¾å¤§å°ä¸€è‡´çš„å›¾åƒ</span></span><br><span class="line">mask[crow1-<span class="number">30</span>:crow1+<span class="number">30</span>,ccol1-<span class="number">30</span>:ccol1+<span class="number">30</span>] = <span class="number">0</span>    <span class="comment">#å°†ä¸­ç‚¹é™„è¿‘çš„åƒç´ ç‚¹ç½®0</span></span><br><span class="line">fshift = dft_shift * mask                   <span class="comment">#é€šè¿‡ä¸maskç›¸ä¹˜ï¼Œå»é™¤äº†ä¸­é—´çš„åŒºåŸŸï¼Œå³é«˜é¢‘</span></span><br><span class="line">f_ishift = np.fft.ifftshift(fshift)         <span class="comment">#å°†åŸç‚¹è½¬ä¸ºåŸå›¾åŸæ¥çš„ä½ç½®</span></span><br><span class="line">img_back = cv2.idft(f_ishift)               <span class="comment">#å‚…é‡Œå¶å˜æ¢é€†å˜æ¢</span></span><br><span class="line">img_back = cv2.magnitude(img_back[:,:,<span class="number">0</span>],img_back[:,:,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">121</span>),plt.imshow(img,cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Input image&#x27;</span>),plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.subplot(<span class="number">122</span>),plt.imshow(img_back,<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;result&#x27;</span>),plt.xticks([]),plt.yticks([])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210142515372.png"
                      class="" title="image-20230210142515372"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210142528105.png"
                      class="" title="image-20230210142528105"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210142539670.png"
                      class="" title="image-20230210142539670"
                >

<h1 id="harrisè§’ç‚¹æ£€æµ‹"><a href="#harrisè§’ç‚¹æ£€æµ‹" class="headerlink" title="harrisè§’ç‚¹æ£€æµ‹"></a>harrisè§’ç‚¹æ£€æµ‹</h1><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210143021902.png"
                      class="" title="image-20230210143021902"
                >

<ul>
<li>è§’ç‚¹ï¼šä»»æ„æ–¹å‘çš„ç°åº¦å˜åŒ–éƒ½å¾ˆæ˜æ˜¾</li>
<li>è¾¹ç•Œï¼šæŸä¸€æ–¹å‘ç°åº¦å˜åŒ–ä¸æ˜æ˜¾</li>
</ul>
<p><strong>I(x,y)ï¼šç°åº¦å€¼ï¼›W(x,y)ï¼šå¯ä»¥è¡¨ç¤ºè¯¥ç‚¹ä¸ç»“æœçš„ç›¸å…³ç¨‹åº¦</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151203769.png"
                      class="" title="image-20230210151203769"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151210488.png"
                      class="" title="image-20230210151210488"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151216141-16760131363414.png"
                      class="" title="image-20230210151216141"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151223178.png"
                      class="" title="image-20230210151223178"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151228881.png"
                      class="" title="image-20230210151228881"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210151327622.png"
                      class="" title="image-20230210151327622"
                >

<p><code>cv2.cornerHarris(img,blockSize,ksize,k)</code></p>
<ul>
<li>blockSizeï¼šæ£€æµ‹è§’ç‚¹çš„åŒºåŸŸå¤§å°</li>
<li>ç”¨Sobelç®—å­æ±‚å¯¼æ•°ç”¨çš„çª—å£å¤§å°</li>
<li>kï¼šè®¡ç®—è§’ç‚¹å“åº”å€¼æ—¶ï¼Œ<code>Î»1*Î»2 - k*(Î»1+Î»2)</code>     kä¸€èˆ¬å–å€¼ä¸º[0.04,0.06]</li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&#x27;../pic/house.png&#x27;</span>)</span><br><span class="line">gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line"><span class="comment">#è§’ç‚¹æ£€æµ‹</span></span><br><span class="line">dst = cv2.cornerHarris(gray,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0.04</span>)</span><br><span class="line"><span class="comment">#cornerHarrisè¿”å›çš„æ˜¯æ£€æµ‹çš„è§’ç‚¹ï¼Œdst.max()æ˜¯è§’ç‚¹ä¸­çš„æœ€å¤§å€¼ï¼Œä»¥æ­¤ä¸ºæ ‡å‡†åœ¨imgä¸­ç»˜åˆ¶è§’ç‚¹</span></span><br><span class="line">img[dst &gt; <span class="number">0.01</span> * dst.<span class="built_in">max</span>()] = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>]</span><br><span class="line">cv2.imshow(<span class="string">&quot;img&quot;</span>,img)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">cv2.destroyAllWindows()</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210153336999.png"
                      class="" title="image-20230210153336999"
                >

<h1 id="ç‰¹å¾æå–SIFT"><a href="#ç‰¹å¾æå–SIFT" class="headerlink" title="ç‰¹å¾æå–SIFT"></a>ç‰¹å¾æå–SIFT</h1><h2 id="å°ºåº¦ç©ºé—´"><a href="#å°ºåº¦ç©ºé—´" class="headerlink" title="å°ºåº¦ç©ºé—´"></a>å°ºåº¦ç©ºé—´</h2><p>å°ºåº¦ç©ºé—´æ˜¯æŒ‡åŒä¸€å¼ å›¾åƒä¸åŒå°ºåº¦ä¸‹æ„æˆçš„é›†åˆï¼Œé€šå¸¸ä½¿ç”¨é«˜æ–¯æ¨¡ç³Šæ¥å®ç°</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210154852643.png"
                      class="" title="image-20230210154852643"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210154859449.png"
                      class="" title="image-20230210154859449"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210154938709.png"
                      class="" title="image-20230210154938709"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210155157542.png"
                      class="" title="image-20230210155157542"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210155012796.png"
                      class="" title="image-20230210155012796"
                >

<h2 id="DoGç©ºé—´æå€¼æ£€æµ‹"><a href="#DoGç©ºé—´æå€¼æ£€æµ‹" class="headerlink" title="DoGç©ºé—´æå€¼æ£€æµ‹"></a>DoGç©ºé—´æå€¼æ£€æµ‹</h2><p>ä¸ºäº†å¯»æ‰¾å°ºåº¦ç©ºé—´çš„æå€¼ç‚¹ï¼Œæ¯ä¸ªåƒç´ ç‚¹è¦å’Œå…¶å›¾åƒåŸŸ(åŒä¸€å°ºåº¦ç©ºé—´)å’Œå°ºåº¦åŸŸï¼ˆç›¸é‚»çš„å°ºåº¦ç©ºé—´)çš„æ‰€æœ‰ç›¸é‚»ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå½“å…¶å¤§äº(æˆ–è€…å°äº)æ‰€æœ‰ç›¸é‚»ç‚¹æ—¶ï¼Œè¯¥ç‚¹å°±æ˜¯æå€¼ç‚¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸­é—´çš„æ£€æµ‹ç‚¹è¦å’Œå…¶æ‰€åœ¨å›¾åƒçš„3Ã—3é‚»åŸŸ8ä¸ªåƒç´ ç‚¹ï¼Œä»¥åŠå…¶ç›¸é‚»çš„ä¸Šä¸‹ä¸¤å±‚çš„3Ã—3é¢†åŸŸ18ä¸ªåƒç´ ç‚¹ï¼Œå…±26ä¸ªåƒç´ ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210160559620.png"
                      class="" title="image-20230210160559620"
                >

<h2 id="å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½"><a href="#å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½" class="headerlink" title="å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½"></a>å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½</h2><p><strong>æ ¹æ®ç¡®è®¤çš„ç¦»æ•£çš„æå€¼ç‚¹ï¼Œè¿›è¡Œæ›²çº¿æ‹Ÿåˆï¼Œç¡®è®¤çœŸæ­£çš„æå€¼ç‚¹</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210160833303.png"
                      class="" title="image-20230210160833303"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210160847942.png"
                      class="" title="image-20230210160847942"
                >

<h2 id="æ¶ˆé™¤è¾¹ç•Œå“åº”"><a href="#æ¶ˆé™¤è¾¹ç•Œå“åº”" class="headerlink" title="æ¶ˆé™¤è¾¹ç•Œå“åº”"></a>æ¶ˆé™¤è¾¹ç•Œå“åº”</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210161938450.png"
                      class="" title="image-20230210161938450"
                >

<h2 id="ç‰¹å¾ç‚¹çŸ¢é‡åŒ–"><a href="#ç‰¹å¾ç‚¹çŸ¢é‡åŒ–" class="headerlink" title="ç‰¹å¾ç‚¹çŸ¢é‡åŒ–"></a>ç‰¹å¾ç‚¹çŸ¢é‡åŒ–</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210162121033.png"
                      class="" title="image-20230210162121033"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210162156075.png"
                      class="" title="image-20230210162156075"
                >



<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210163141334.png"
                      class="" title="image-20230210163141334"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210163308506.png"
                      class="" title="image-20230210163308506"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210163322856-16760180030965.png"
                      class="" title="image-20230210163322856"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img = cv2.imread(<span class="string">&quot;../pic/house.png&quot;</span>)</span><br><span class="line">gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹åŒ–siftå¯¹è±¡</span></span><br><span class="line">sift = cv2.xfeatures2d.SIFT_create()</span><br><span class="line"><span class="comment">#å¾—åˆ°ç‰¹å¾ç‚¹</span></span><br><span class="line">kp = sift.detect(gray,<span class="literal">None</span>)</span><br><span class="line"><span class="built_in">print</span>(kp)</span><br><span class="line"></span><br><span class="line">img = cv2.drawKeypoints(gray,kp,img)    <span class="comment">#imgæ˜¯è¾“å‡ºå›¾</span></span><br><span class="line">cv_show(<span class="string">&quot;img&quot;</span>,img)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¡ç®—ç‰¹å¾å‘é‡</span></span><br><span class="line">kp,des = sift.compute(gray,kp)</span><br><span class="line"><span class="built_in">print</span>(numpy.array(kp).shape)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210165037521-16760190378296.png"
                      class="" title="image-20230210165037521"
                >

<h1 id="ç‰¹å¾åŒ¹é…"><a href="#ç‰¹å¾åŒ¹é…" class="headerlink" title="ç‰¹å¾åŒ¹é…"></a>ç‰¹å¾åŒ¹é…</h1><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cv_show</span>(<span class="params">name,img</span>):</span><br><span class="line">    cv2.imshow(name,img)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line"></span><br><span class="line">img1 = cv2.imread(<span class="string">&quot;../pic/box.png&quot;</span>,<span class="number">0</span>)</span><br><span class="line">img2 = cv2.imread(<span class="string">&quot;../pic/box_in_scene.png&quot;</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹åŒ–siftå¯¹è±¡</span></span><br><span class="line">sift = cv2.xfeatures2d.SIFT_create()</span><br><span class="line"><span class="comment">#å°†ç‰¹å¾ç‚¹å¯»æ‰¾å’Œç‰¹å¾ç‚¹çŸ¢é‡åŒ–ç»“åˆåœ¨ä¸€èµ·è¿è¡Œ</span></span><br><span class="line">kp1,des1 = sift.detectAndCompute(img1,<span class="literal">None</span>)</span><br><span class="line">kp2,des2 = sift.detectAndCompute(img2,<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®ä¾‹åŒ–ç‰¹å¾åŒ¹é…å¯¹è±¡                             #NORM_L2ï¼šå½’ä¸€åŒ–æ•°ç»„ï¼›ä¹Ÿå¯ç”¨å…¶ä»–ç‰¹å¾è®¡ç®—æ–¹æ³•çš„ï¼Œä½†è¦åŒ¹é…è®¡ç®—æ–¹å¼</span></span><br><span class="line">bf = cv2.BFMatcher(crossCheck=<span class="literal">True</span>)         <span class="comment">#crossCheckè¡¨ç¤ºä¸¤ä¸ªç‰¹å¾ç‚¹ç›¸äº’åŒ¹é…ï¼ŒAå›¾ä¸­çš„iç‚¹åˆ°Bä¸­çš„jç‚¹æ˜¯æœ€è¿‘çš„ï¼ŒåŒæ—¶Bä¸­çš„jç‚¹åˆ°Aå›¾ä¸­çš„iç‚¹ä¹Ÿæ˜¯æœ€è¿‘çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1å¯¹1çš„åŒ¹é…</span></span><br><span class="line">matches = bf.<span class="keyword">match</span>(des1,des2)       <span class="comment">#des2æ˜¯å¾…åŒ¹é…çš„å›¾åƒ</span></span><br><span class="line">matches = <span class="built_in">sorted</span>(matches,key=<span class="keyword">lambda</span> x:x.distance)       <span class="comment">#å°†åŒ¹é…åˆ°çš„ç‰¹å¾ç‚¹æ’åº</span></span><br><span class="line"><span class="comment">#ç”»äº†10ä¸ªç‰¹å¾ç‚¹å¯¹åº”</span></span><br><span class="line">img3 = cv2.drawMatches(img1,kp1,img2,kp2,matches[:<span class="number">10</span>],<span class="literal">None</span>,flags=<span class="number">2</span>)     <span class="comment">#flagè®¾ç½®ç»˜åˆ¶æ–¹å¼</span></span><br><span class="line">cv_show(<span class="string">&quot;img3&quot;</span>,img3)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210185152441.png"
                      class="" title="image-20230210185152441"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210185156559.png"
                      class="" title="image-20230210185156559"
                >

<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Kå¯¹æœ€ä½³åŒ¹é…</span></span><br><span class="line">bf1 = cv2.BFMatcher()</span><br><span class="line"><span class="comment"># bf1 = cv2.FlannBasedMatcher()                   #æ›´å¿«é€Ÿ</span></span><br><span class="line">matches = bf1.knnMatch(des1,des2,k=<span class="number">2</span>)            <span class="comment">#ä¸€ä¸ªç‚¹æ‰¾kä¸ªå¯¹åº”ç‚¹</span></span><br><span class="line">good = []</span><br><span class="line"><span class="keyword">for</span> m,n <span class="keyword">in</span> matches:                             <span class="comment">#è®¾ç½®å‚æ•°ï¼Œè¿‡æ»¤éƒ¨åˆ†åŒ¹é…ç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> m.distance &lt; <span class="number">0.75</span> * n.distance:</span><br><span class="line">        good.append([m])</span><br><span class="line"></span><br><span class="line">img3 = cv2.drawMatchesKnn(img1,kp1,img2,kp2,good,<span class="literal">None</span>,flags=<span class="number">2</span>)</span><br><span class="line">cv_show(<span class="string">&quot;img3&quot;</span>,img3)</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210190327535-16760270077707.png"
                      class="" title="image-20230210190327535"
                >

<h2 id="éšæœºæŠ½æ ·ä¸€è‡´ç®—æ³•RANSAC"><a href="#éšæœºæŠ½æ ·ä¸€è‡´ç®—æ³•RANSAC" class="headerlink" title="éšæœºæŠ½æ ·ä¸€è‡´ç®—æ³•RANSAC"></a>éšæœºæŠ½æ ·ä¸€è‡´ç®—æ³•RANSAC</h2><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210191647018.png"
                      class="" title="image-20230210191647018"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210191653915.png"
                      class="" title="image-20230210191653915"
                >

<p>åœ¨æ ·æœ¬ç‚¹éšæœºå–ä¸¤ä¸ªç‚¹ï¼Œå°†ä¸¤ç‚¹è¿çº¿ï¼Œç»™å®š<code>ä¸´è¿‘èŒƒå›´</code>ï¼Œè®¡ç®—åœ¨ä¸´è¿‘èŒƒå›´çš„ç‚¹æ•°ã€‚ä¸æ–­å¾ªç¯æ­¤æ“ä½œï¼Œé€‰æ‹©ä¸´è¿‘èŒƒå›´ç‚¹æ•°æœ€å¤šçš„ä¸¤ä¸ªç‚¹</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210191718583.png"
                      class="" title="image-20230210191718583"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210191725841.png"
                      class="" title="image-20230210191725841"
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2023/02/06/opencv/image-20230210192427254.png"
                      class="" title="image-20230210192427254"
                >


            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>æ ‡é¢˜:</strong> opencv</li>
        <li><strong>ä½œè€…:</strong> Airex Yu</li>
        <li><strong>åˆ›å»ºäº:</strong> 2023-02-06 10:35:26</li>
        
            <li>
                <strong>æ›´æ–°äº:</strong> 2023-05-25 21:10:19
            </li>
        
        <li>
            <strong>é“¾æ¥:</strong> http://example.com/2023/02/06/opencv/
        </li>
        <li>
            <strong>ç‰ˆæƒå£°æ˜:</strong> æœ¬æ–‡ç« é‡‡ç”¨ <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> è¿›è¡Œè®¸å¯ã€‚
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/opencv/">#opencv</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">#å›¾åƒå¤„ç†</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E6%A2%AF%E5%BA%A6/">#æ¢¯åº¦</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B/">#è¾¹ç¼˜æ£€æµ‹</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96/">#ç‰¹å¾æå–</a>&nbsp;
                        </li>
                    
                        <li class="tag-item">
                            <a href="/tags/%E7%89%B9%E5%BE%81%E5%8C%B9%E9%85%8D/">#ç‰¹å¾åŒ¹é…</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/2023/02/20/TensorRT/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">TensorRT</span>
                                    <span class="post-nav-item">ä¸Šä¸€ç¯‡</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/02/02/PyTorch/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">PyTorch</span>
                                    <span class="post-nav-item">ä¸‹ä¸€ç¯‡</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;è¯„è®º
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://example.example.com',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">æ­¤é¡µç›®å½•</div>
        <div class="page-title">opencv</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#opencv%E9%85%8D%E7%BD%AE"><span class="nav-text">opencvé…ç½®</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-text">å›¾åƒåŸºæœ¬æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96-%E5%9B%BE%E5%83%8F"><span class="nav-text">æ•°æ®è¯»å–-å›¾åƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96-%E8%A7%86%E9%A2%91"><span class="nav-text">æ•°æ®è¯»å–-è§†é¢‘</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BE%B9%E7%95%8C%E5%A1%AB%E5%85%85"><span class="nav-text">è¾¹ç•Œå¡«å……</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97"><span class="nav-text">æ•°å€¼è®¡ç®—</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E8%9E%8D%E5%90%88"><span class="nav-text">å›¾åƒèåˆ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%85%90%E8%9A%80%E4%B8%8E%E8%86%A8%E8%83%80%E6%93%8D%E4%BD%9C"><span class="nav-text">è…èš€ä¸è†¨èƒ€æ“ä½œ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%85%90%E8%9A%80%E6%93%8D%E4%BD%9C"><span class="nav-text">è…èš€æ“ä½œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%86%A8%E8%83%80%E6%93%8D%E4%BD%9C"><span class="nav-text">è†¨èƒ€æ“ä½œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E8%BF%90%E7%AE%97%E4%B8%8E%E9%97%AD%E8%BF%90%E7%AE%97"><span class="nav-text">å¼€è¿ç®—ä¸é—­è¿ç®—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A2%AF%E5%BA%A6%E8%BF%90%E7%AE%97"><span class="nav-text">æ¢¯åº¦è¿ç®—</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A4%BC%E5%B8%BD%E5%92%8C%E9%BB%91%E5%B8%BD"><span class="nav-text">ç¤¼å¸½å’Œé»‘å¸½</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A2%AF%E5%BA%A6%E8%AE%A1%E7%AE%97"><span class="nav-text">æ¢¯åº¦è®¡ç®—</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Sobel%E7%AE%97%E5%AD%90"><span class="nav-text">Sobelç®—å­</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A2%AF%E5%BA%A6%E8%AE%A1%E7%AE%97%E5%AE%9E%E4%BE%8B"><span class="nav-text">æ¢¯åº¦è®¡ç®—å®ä¾‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E7%AE%97%E5%AD%90"><span class="nav-text">å…¶ä»–ç®—å­</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%B9%B3%E6%BB%91%E5%A4%84%E7%90%86"><span class="nav-text">å›¾åƒå¹³æ»‘å¤„ç†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%98%88%E5%80%BC%E5%A4%84%E7%90%86"><span class="nav-text">é˜ˆå€¼å¤„ç†</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Canny%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B"><span class="nav-text">Cannyè¾¹ç¼˜æ£€æµ‹</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%9E%E6%9E%81%E5%A4%A7%E5%80%BC%E6%8A%91%E5%88%B6"><span class="nav-text">éæå¤§å€¼æŠ‘åˆ¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8C%E9%98%88%E5%80%BC%E6%A3%80%E6%B5%8B"><span class="nav-text">åŒé˜ˆå€¼æ£€æµ‹</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AE%E5%BB%93%E6%A3%80%E6%B5%8B"><span class="nav-text">è½®å»“æ£€æµ‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AE%E5%BB%93%E8%BF%91%E4%BC%BC"><span class="nav-text">è½®å»“è¿‘ä¼¼</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%96%E7%95%8C%E5%9B%BE%E5%BD%A2"><span class="nav-text">å¤–ç•Œå›¾å½¢</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E5%8C%B9%E9%85%8D"><span class="nav-text">æ¨¡æ¿åŒ¹é…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%B9%E9%85%8D%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-text">åŒ¹é…å¤šä¸ªå¯¹è±¡</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E9%87%91%E5%AD%97%E5%A1%94"><span class="nav-text">å›¾åƒé‡‘å­—å¡”</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E6%96%AF%E9%87%91%E5%AD%97%E5%A1%94"><span class="nav-text">é«˜æ–¯é‡‘å­—å¡”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%89%E6%99%AE%E6%8B%89%E6%96%AF%E9%87%91%E5%AD%97%E5%A1%94"><span class="nav-text">æ‹‰æ™®æ‹‰æ–¯é‡‘å­—å¡”</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E6%96%87%E6%A1%A3%E6%89%AB%E6%8F%8FOCR%E8%AF%86%E5%88%AB"><span class="nav-text">ç¤ºä¾‹ï¼šæ–‡æ¡£æ‰«æOCRè¯†åˆ«</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="nav-text">ç›´æ–¹å›¾</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#mask%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">maskçš„ä½¿ç”¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9D%87%E8%A1%A1%E5%8C%96"><span class="nav-text">å‡è¡¡åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E5%9D%87%E8%A1%A1%E5%8C%96"><span class="nav-text">è‡ªé€‚åº”å‡è¡¡åŒ–</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2"><span class="nav-text">å‚…é‡Œå¶å˜æ¢</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BB%A4%E6%B3%A2"><span class="nav-text">æ»¤æ³¢</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#harris%E8%A7%92%E7%82%B9%E6%A3%80%E6%B5%8B"><span class="nav-text">harrisè§’ç‚¹æ£€æµ‹</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96SIFT"><span class="nav-text">ç‰¹å¾æå–SIFT</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%BA%E5%BA%A6%E7%A9%BA%E9%97%B4"><span class="nav-text">å°ºåº¦ç©ºé—´</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DoG%E7%A9%BA%E9%97%B4%E6%9E%81%E5%80%BC%E6%A3%80%E6%B5%8B"><span class="nav-text">DoGç©ºé—´æå€¼æ£€æµ‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E7%82%B9%E7%9A%84%E7%B2%BE%E7%A1%AE%E5%AE%9A%E4%BD%8D"><span class="nav-text">å…³é”®ç‚¹çš„ç²¾ç¡®å®šä½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B6%88%E9%99%A4%E8%BE%B9%E7%95%8C%E5%93%8D%E5%BA%94"><span class="nav-text">æ¶ˆé™¤è¾¹ç•Œå“åº”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E7%82%B9%E7%9F%A2%E9%87%8F%E5%8C%96"><span class="nav-text">ç‰¹å¾ç‚¹çŸ¢é‡åŒ–</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E5%8C%B9%E9%85%8D"><span class="nav-text">ç‰¹å¾åŒ¹é…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E6%8A%BD%E6%A0%B7%E4%B8%80%E8%87%B4%E7%AE%97%E6%B3%95RANSAC"><span class="nav-text">éšæœºæŠ½æ ·ä¸€è‡´ç®—æ³•RANSAC</span></a></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2023</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Airex Yu</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        è®¿é—®äººæ•°&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        æ€»è®¿é—®é‡&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">ç”± <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a> é©±åŠ¨</span>
                <br>
            <span class="theme-version-container">ä¸»é¢˜&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.1.5</a>
        </div>
        
        
        
            <div id="start_div" style="display:none">
                2023/01/05 11:45:14
            </div>
            <div>
                åšå®¢å·²è¿è¡Œ <span class="odometer" id="runtime_days" ></span> å¤© <span class="odometer" id="runtime_hours"></span> å°æ—¶ <span class="odometer" id="runtime_minutes"></span> åˆ†é’Ÿ <span class="odometer" id="runtime_seconds"></span> ç§’
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="æœç´¢..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/navbarShrink.js"></script>

<script src="/js/tools/scrollTopBottom.js"></script>

<script src="/js/tools/lightDarkSwitch.js"></script>



    
<script src="/js/tools/localSearch.js"></script>




    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>




    
<script src="/js/libs/mermaid.min.js"></script>

    
<script src="/js/plugins/mermaid.js"></script>





<div class="post-scripts pjax">
    
        
<script src="/js/tools/tocToggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
